{"version":3,"sources":["images/header-logo.svg","components/HeaderPromo/HeaderPromo.js","components/Promo/Promo.js","components/PromoNavTab/PromoNavTab.js","components/AboutProject/AboutProject.js","components/Header/Header.js","components/Techs/Techs.js","images/avatar.svg","components/AboutMe/AboutMe.js","components/Portfolio/Portfolio.js","components/Main/Main.js","components/Footer/Footer.js","images/search-icon.svg","components/SearchForm/SearchForm.js","components/FilterCheckbox/FilterCheckbox.js","components/Search/Search.js","components/Navigation/Navigation.js","components/MoviesCard/MoviesCard.js","components/MoviesCardList/MoviesCardList.js","components/Preloader/Preloader.js","components/Movies/Movies.js","components/SavedMovies/SavedMovies.js","utils/auth.js","utils/MainApi.js","utils/MoviesApi.js","context/CurrentUserContext.js","components/Profile/Profile.js","components/Login/Login.js","components/Register/Register.js","components/PageNotFound/PageNotFound.js","components/ProtectedRoute/ProtectedRoute.js","components/App/App.js","index.js"],"names":["HeaderPromo","props","className","statusHeader","src","logoMain","alt","to","Promo","PromoNavTab","href","AboutProject","id","Header","type","onClick","openNav","Techs","AboutMe","avatar","Portfolio","Main","Footer","SearchForm","React","useState","input","setValue","icon","onChange","e","target","value","setFiltText","placeholder","required","preventDefault","searchMovies","handleClickButtonSearch","FilterCheckbox","handleClickFilterCheckbox","checked","filter","Search","handleClickSearch","Navigation","isOpen","handleClickCloseNavTab","status","MoviesCard","like","setLike","useEffect","isLiked","trailerLink","link","nameRU","poster","buttonLike","saveCard","movieId","toString","nameEN","director","thumbnail","country","year","duration","description","trailer","image","daleteCard","movie","content","mins","hours","Math","trunc","minutes","getTimeFromMins","MoviesCardList","movies","slice","showMore","length","map","url","_id","Preloader","Movies","loggedIn","initialCards","statPreload","statResult","message","handleClickDeleteMovie","handleClickSaveMovie","statMovies","savedCards","handleClickShowMore","statButton","SavedMovies","searchSavedCards","likedCards","BASE_URL","api","options","this","_baseUrl","baseUrl","_authorization","headers","authorization","_contentType","res","ok","json","Promise","reject","fetch","credentials","then","_getResponseData","name","email","method","body","JSON","stringify","cardId","moviesApi","CurrentUserContext","createContext","Profile","currentUser","useContext","setName","setEmail","errStatName","setErrStatName","errStatEmail","setErrStatEmail","errMessage","setErrMessage","isRedact","replace","onChangeTagInputName","minLength","maxLength","test","onChangeTagInputEmail","onRedactClick","signOut","statServer","handleUpdateUser","setTimeout","handleClickUpdateUser","Login","password","setPassword","errStatPassword","setErrStatPassword","noValidate","handleLogin","handleLoginClick","Register","onChangeTagInputPass","handleRegister","handleRegisterClick","PageNotFound","ProtectedRoute","Component","component","App","setCurrentUser","setSavedCards","setLikedCards","setMessage","filtText","setStatServer","statErrProfile","setErrProfile","numPlus","setNumPlus","setShowMore","setFilter","setStatus","setLoggedIn","setStatResult","setStatMovies","setStatButton","setStatPreload","filterSearch","setFilterSearch","redactProfile","setRedactProfile","history","useHistory","adaptivContent","initCardsFromServer","result","localStorage","setItem","catch","err","console","log","initialUsers","data","window","addEventListener","event","regular","RegExp","c","owner","filteredLikedCards","getLocalStorageLikedCards","filterLikedMuvies","token","jwt","getItem","tokenCheck","filterMuvies","useCallback","getLocalStorage","saved","card","find","width","innerWidth","closeNav","parse","response","Auth","push","Provider","exact","path","loadingNewCardOnServer","newCard","deleteCard","deleteCardFromServer","state","removeItem","loadingUserInfoOnServer","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.e1923533.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/header-logo.4410338f.svg\";","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport logoMain from '../../images/header-logo.svg';\r\nimport './HeaderPromo.css';\r\n\r\nfunction HeaderPromo(props) {\r\n    return (\r\n        <div className={props.statusHeader === false? \"headerPromo\" : \"headerPromo__hidden\" }>\r\n            <img className=\"headerPromo__logo\" src={logoMain} alt=\"Promo-logo\" />\r\n            <Link className=\"headerPromo__link-signup\" to=\"/signup\">\r\n                Регистрация\r\n            </Link>\r\n            <Link className=\"headerPromo__link-signin\" to=\"/signin\">Войти</Link>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default HeaderPromo;","import React from 'react';\nimport './Promo.css';\n\nfunction Promo () {\n  return (\n    <div className=\"promo\">\n        <h1 className='promo__title'>Учебный проект студента факультета Веб-разработки.</h1>\n        <div className='promo__logo'></div>\n    </div>\n  )\n}\n\nexport default Promo; ","import React from 'react';\nimport './PromoNavTab.css';\n\nfunction PromoNavTab() {\n    return (\n        <div className=\"promoNavTab\">\n            <a className=\"promoNavTab__link\" href=\"#project\">\n                О проекте\n            </a>\n            <a className=\"promoNavTab__link\" href=\"#techs\">\n                Технологии\n            </a>\n            <a className=\"promoNavTab__link\" href=\"#student\">\n                Студент\n            </a>\n        </div>\n    )\n}\n\nexport default PromoNavTab;","import React from 'react';\nimport './AboutProject.css';\n\nfunction AboutProject() {\n    return (\n        <div id=\"project\" className=\"aboutProject\">\n            <h2 className=\"aboutProject__title\">О проекте</h2>\n            <h3 className=\"aboutProject__heading\">На выполнение диплома ушло 5 недель</h3>\n            <p className=\"aboutProject__text\">У каждого этапа был мягкий и жёсткий дедлайн, которые нужно было соблюдать, чтобы успешно защититься.</p>\n            <h3 className=\"aboutProject__heading\">Дипломный проект включал 5 этапов</h3>\n            <p className=\"aboutProject__text\">Составление плана, работу над бэкендом, вёрстку, добавление функциональности и финальные доработки.</p>\n            <p className=\"aboutProject__progress-bar\">1 неделя</p>\n            <p className=\"aboutProject__progress-bar\">4 недели</p>\n            <p className=\"aboutProject__progress-title\">Back-end</p>\n            <p className=\"aboutProject__progress-title\">Front-end</p>\n        </div>\n    )\n}\n\nexport default AboutProject;","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport './Header.css';\r\n\r\nfunction Header(props) {\r\n\r\n    return (\r\n        <div className={props.statusHeader === true? \"header\" : \"header__hidden\"}>\r\n            <Link className=\"header__logo\" to=\"/\"></Link>\r\n            <Link className=\"header__link\" to=\"/movies\">\r\n                Фильмы\r\n            </Link>\r\n            <Link className=\"header__link\" to=\"/saved-movies\">\r\n                Сохранённые фильмы\r\n            </Link>\r\n            <Link className=\"header__link header__link_profile\" to=\"/profile\">\r\n                Аккаунт\r\n            </Link>\r\n            <button type=\"button\" onClick={props.openNav} className=\"header__button\"></button>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Header;","import React from 'react';\nimport './Techs.css';\n\nfunction Techs() {\n    return (\n        <div id=\"techs\" className=\"techs\">\n            <h2 className=\"techs__title\">Технологии</h2>\n            <h3 className=\"techs__heading\">7 технологий</h3>\n            <p className=\"techs__text\">На курсе веб-разработки мы освоили технологии, которые применили в дипломном проекте.</p>\n            <p className=\"techs__name\">HTML</p>\n            <p className=\"techs__name\">CSS</p>\n            <p className=\"techs__name\">JS</p>\n            <p className=\"techs__name\">React</p>\n            <p className=\"techs__name\">Git</p>\n            <p className=\"techs__name\">Express.js</p>\n            <p className=\"techs__name\">mongoDB</p>\n        </div>\n    )\n}\n\nexport default Techs;","export default __webpack_public_path__ + \"static/media/avatar.0d3b1247.svg\";","import React from 'react';\nimport './AboutMe.css';\nimport avatar from '../../images/avatar.svg'\n\nfunction AboutMe() {\n    return (\n        <div id=\"student\" className=\"aboutMe\">\n            <h2 className=\"aboutMe__title\">Студент</h2>\n            <p className=\"aboutMe__name\">Владислав</p>\n            <p className=\"aboutMe__info\">Фронтенд-разработчик, 25 лет</p>\n            <p className=\"aboutMe__text\">Я живу в Санкт-Петербурге, закончил факультет экономики СГУ. Люблю слушать музыку, читать книги, а ещё увлекаюсь плаванием. Недавно начал кодить. С 2015 года работал в компании «ОАО Сохо». После того, как прошёл курс по веб-разработке, начал заниматься фриланс-заказами и ушёл с постоянной работы.</p>\n            <a className=\"aboutMe__link\" href=\"https://www.facebook.com/\">Facebook</a>\n            <a className=\"aboutMe__link\" href=\"https://github.com/V-MilkyWay\">Github</a>\n            <img className=\"aboutMe__avatar\" src={avatar} alt='Аватарка' />\n        </div>\n    )\n}\n\nexport default AboutMe;","import React from 'react';\nimport './Portfolio.css';\n\nfunction Portfolio() {\n    return (\n        <div className=\"portfolio\">\n            <h2 className=\"portfolio__title\">Портфолио</h2>\n            <p className=\"portfolio__text\">Статичный сайт</p>\n            <a className=\"portfolio__link\" href=\"https://github.com/V-MilkyWay/how-to-learn\">↗</a>\n            <p className=\"portfolio__text\">Адаптивный сайт</p>\n            <a className=\"portfolio__link\" href=\"https://github.com/V-MilkyWay/russian-travel\">↗</a>\n            <p className=\"portfolio__text\">Одностраничное приложение</p>\n            <a className=\"portfolio__link\" href=\"https://github.com/V-MilkyWay/react-mesto-api-full\">↗</a>\n        </div>\n    )\n}\n\nexport default Portfolio;","import React from 'react';\r\nimport HeaderPromo from '../HeaderPromo/HeaderPromo.js';\r\nimport Promo from '../Promo/Promo.js';\r\nimport PromoNavTab from '../PromoNavTab/PromoNavTab.js';\r\nimport AboutProject from '../AboutProject/AboutProject.js';\r\nimport Header from '../Header/Header';\r\nimport Techs from '../Techs/Techs.js';\r\nimport AboutMe from '../AboutMe/AboutMe.js';\r\nimport Portfolio from '../Portfolio/Portfolio.js';\r\nimport './Main.css';\r\n\r\nfunction Main(props) {\r\n    return (\r\n        <div className=\"main\">\r\n            <HeaderPromo statusHeader={props.statusHeader} />\r\n            <Header openNav={props.openNav} statusHeader={props.statusHeader} />\r\n            <Promo />\r\n            <PromoNavTab />\r\n            <AboutProject />\r\n            <Techs />\r\n            <AboutMe />\r\n            <Portfolio />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Main;","import React from 'react';\nimport './Footer.css';\n\nfunction Footer() {\n    return (\n        <div className=\"footer\">\n            <h3 className=\"footer__title\">Учебный проект Яндекс.Практикум х BeatFilm.</h3>\n            <p className=\"footer__copyrigh\">© 2020</p>\n            <a className=\"footer__link\" href=\"https://practicum.yandex.ru\">Яндекс.Практикум</a>\n            <a className=\"footer__link\" href=\"https://github.com\">Github</a>\n            <a className=\"footer__link\" href=\"https://www.facebook.com\">Facebook</a>\n        </div>\n    )\n}\n\nexport default Footer;","export default __webpack_public_path__ + \"static/media/search-icon.9d65490b.svg\";","import React from 'react';\r\nimport './SearchForm.css';\r\nimport icon from '../../images/search-icon.svg';\r\n\r\nfunction SearchForm(props) {\r\n    \r\n    const [input, setValue] = React.useState(\"\");\r\n\r\n    function handleChangeSearchForm(e) {\r\n        setValue(e.target.value);\r\n        props.setFiltText(e.target.value)\r\n    }\r\n\r\n    function handleClickButtonSearch(e) {\r\n        e.preventDefault();\r\n        if (input === '') {\r\n            setValue('Нужно ввести ключевое слово')\r\n            props.setFiltText('Нужно ввести ключевое слово')\r\n        } else {\r\n            props.searchMovies(e);\r\n        };\r\n    }\r\n\r\n    return (\r\n        <form className=\"searchForm\">\r\n            <img className=\"searchForm__icon\" src={icon} alt=\"Поиск\" />\r\n            <input className=\"searchForm__input\" onChange={handleChangeSearchForm} value={input} type=\"text\" placeholder=\"Фильм\" required />\r\n            <button className=\"searchForm__button\" onClick={(e) => handleClickButtonSearch(e)} type=\"submit\"></button>\r\n            <hr className=\"searchForm__line\"></hr>\r\n        </form>\r\n    )\r\n}\r\n\r\nexport default SearchForm;","import React from 'react';\r\nimport './FilterCheckbox.css';\r\n\r\n\r\nfunction FilterCheckbox(props) {\r\n    return (\r\n        <label className=\"filterCheckbox\">\r\n                <input onChange={props.handleClickFilterCheckbox} checked={props.filter} className=\"filterCheckbox__input\" type=\"checkbox\" />\r\n                <span className=\"filterCheckbox__slider\"></span>\r\n        </label>\r\n    )\r\n}\r\n\r\nexport default FilterCheckbox;","import React from 'react';\r\nimport SearchForm from '../SearchForm/SearchForm';\r\nimport FilterCheckbox from '../FilterCheckbox/FilterCheckbox';\r\nimport './Search.css';\r\n\r\nfunction Search(props) {\r\n    return (\r\n        <div className=\"search\">\r\n            <SearchForm setFiltText={props.setFiltText} searchMovies={props.handleClickSearch} />\r\n            <p className=\"search__text\">Короткометражки</p>\r\n            <FilterCheckbox filter={props.filter} handleClickFilterCheckbox={props.handleClickFilterCheckbox} />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Search;","import React from 'react';\r\nimport './Navigation.css';\r\nimport { Link } from 'react-router-dom';\r\n\r\nfunction Navigation(props) {\r\n\r\n    return (\r\n        <div className={props.isOpen === false ? \"navigation_hidden\" : \"navigation\"}>\r\n            <div className=\"nav-links\">\r\n                <button type=\"button\" onClick={props.handleClickCloseNavTab} className=\"nav-links__close-button\"></button>\r\n                <Link className={props.status === 'main' ? \"nav-links__link nav-links__link_actual\" : \"nav-links__link\"} to=\"/\">\r\n                    Главная\r\n                </Link>\r\n                <Link className={props.status === 'movies' ? \"nav-links__link nav-links__link_actual\" : \"nav-links__link\"} to=\"/movies\">\r\n                    Фильмы\r\n                </Link>\r\n                <Link className={props.status === 'saved-movies' ? \"nav-links__link nav-links__link_actual\" : \"nav-links__link\"} to=\"/saved-movies\">\r\n                    Сохранённые фильмы\r\n                </Link>\r\n                <Link className=\"nav-links__link nav-links_profile\" to=\"/profile\">\r\n                    Аккаунт\r\n                </Link>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Navigation;","import React from 'react';\r\nimport './MoviesCard.css';\r\n\r\nfunction MoviesCard(props) {\r\n\r\n    const [like, setLike] = React.useState(false);\r\n\r\n    React.useEffect(() => {\r\n        if (props.isLiked === true) {\r\n            setLike(true)\r\n        }\r\n    }, [props.isLiked]);\r\n\r\n    function handleClickLike () {\r\n        if (like === false) {\r\n            props.saveCard({\r\n                movieId: props.movieId.toString(),\r\n                nameRU: props.nameRU,\r\n                nameEN: props.nameEN,\r\n                director: props.director,\r\n                thumbnail: props.link,\r\n                country: props.country.toString(),\r\n                year: props.year.toString(),\r\n                duration: props.duration.toString(),\r\n                description: props.description,\r\n                trailer: props.trailerLink,\r\n                image: props.link\r\n            })\r\n            setLike(true)\r\n        } else {\r\n            props.daleteCard(props.movie)\r\n            setLike(false)\r\n        };\r\n    }\r\n    function handleClickDelete() {\r\n        props.daleteCard(props.movie);\r\n    }\r\n\r\n    function getTimeFromMins(mins) {\r\n        let hours = Math.trunc(mins / 60);\r\n        let minutes = mins % 60;\r\n        if (minutes === 0) {\r\n            return hours + 'ч';\r\n        } else {\r\n            return hours + 'ч ' + minutes + 'м';\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"moviesCard\">\r\n            <a className=\"moviesCard__link\" href={props.trailerLink}>\r\n                <img className=\"moviesCard__video\" src={props.link} alt={props.nameRU} poster={props.poster} />\r\n            </a>\r\n            <p className=\"moviesCard__name\">{props.nameRU}</p>\r\n            <button className={props.buttonLike === true ? ((props.isLiked === true) ? 'moviesCard__like moviesCard__like_active' : ((like === true) ? 'moviesCard__like moviesCard__like_active' : 'moviesCard__like')) : 'moviesCard__like_hidden'} type=\"button\" onClick={handleClickLike} content='Сохранить'></button>\r\n            <button className={props.buttonLike === false ? \"moviesCard__delete\" : \"moviesCard__delete_hidden\"} type=\"button\" onClick={handleClickDelete}></button>\r\n            <p id=\"number\" className=\"moviesCard__duration\">{getTimeFromMins(props.duration)}</p>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default MoviesCard;","import React from 'react';\r\nimport './MoviesCardList.css';\r\nimport MoviesCard from '../MoviesCard/MoviesCard';\r\n\r\nfunction MoviesCardList(props) {\r\n    return (\r\n        <div className={props.status}>\r\n            {props.movies.slice(0, (props.showMore < props.movies.length) ? props.showMore : props.movies.length).map((movie) => (\r\n                <MoviesCard isLiked={movie.isLiked} movie={movie} daleteCard={props.daleteCard} description={movie.description}  year={movie.year} country={movie.country} director={movie.director} movieId={movie.id} saveCard={props.saveCard} key={movie.id || movie._id } trailerLink={movie.trailer? movie.trailer : movie.trailerLink} link={movie.image.url? `https://api.nomoreparties.co${movie.image.url}`: movie.image} nameRU={movie.nameRU} nameEN={movie.nameEN} duration={movie.duration} poster={movie.poster} buttonLike={props.buttonLike} />\r\n            ))}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default MoviesCardList;","import React from 'react'\nimport './Preloader.css'\n\nconst Preloader = (props) => {\n    return (\n        <div className={props.status}>\n            <div className=\"preloader__container\">\n                <span className=\"preloader__round\"></span>\n            </div>\n        </div>\n    )\n};\n\nexport default Preloader\n","import React from 'react';\r\nimport Search from '../Search/Search';\r\nimport Header from '../Header/Header';\r\nimport Navigation from '../Navigation/Navigation';\r\nimport MoviesCardList from '../MoviesCardList/MoviesCardList';\r\nimport Preloader from '../Preloader/Preloader';\r\nimport Footer from '../Footer/Footer';\r\nimport './Movies.css';\r\n\r\nfunction Movies(props) {\r\n\r\n    return (\r\n        <>\r\n        <Navigation isOpen={props.isOpen}\r\n          handleClickCloseNavTab={props.handleClickCloseNavTab}\r\n          status={props.status} />\r\n        <Header openNav={props.openNav} statusHeader={props.loggedIn} />\r\n        <div className=\"movies\">\r\n            <Search setFiltText={props.setFiltText} filter={props.filter} handleClickSearch={props.initialCards} handleClickFilterCheckbox={props.handleClickFilterCheckbox} />\r\n            <hr className=\"movies__line\"></hr>\r\n            <Preloader status={(props.statPreload === true) ? 'preloader' : 'preloader__hidden'} />\r\n            <h2 className={(props.statResult === true) ? 'movies__resilt-title' : 'movies__resilt-title__hidden'}>{props.message}</h2>\r\n            <MoviesCardList daleteCard={props.handleClickDeleteMovie} saveCard={props.handleClickSaveMovie} showMore={props.showMore} status={(props.statMovies === true) ? 'moviesCardList' : 'moviesCardList__hidden'} buttonLike={true} movies={props.savedCards} />\r\n            <button onClick={(e) => props.handleClickShowMore(e)} className={(props.statButton === true) ? 'movies__button' : 'movies__button__hidden'} type=\"button\" >Ещё</button>\r\n            <span className={(props.statButton === false) ? 'movies__saveddevider' : 'movies__saveddevider__hidden'}></span>\r\n        </div>\r\n        <Footer />\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Movies;","import React from 'react';\r\nimport Search from '../Search/Search';\r\nimport Header from '../Header/Header';\r\nimport Navigation from '../Navigation/Navigation';\r\nimport MoviesCardList from '../MoviesCardList/MoviesCardList';\r\nimport Footer from '../Footer/Footer';\r\nimport './SavedMovies.css';\r\n\r\nfunction SavedMovies(props) {\r\n\r\n    return (\r\n        <>\r\n            <Navigation isOpen={props.isOpen}\r\n                handleClickCloseNavTab={props.handleClickCloseNavTab}\r\n                status={props.status} />\r\n            <Header statusHeader={props.loggedIn} />\r\n            <div className=\"savedMovies\">\r\n                <Search setFiltText={props.setFiltText} filter={props.filter} handleClickSearch={props.searchSavedCards} handleClickFilterCheckbox={props.handleClickFilterCheckbox} />\r\n                <hr className=\"savedMovies__line\"></hr>\r\n                <h2 className={(props.statResult === true) ? 'savedMovies__resilt-title' : 'savedMovies__resilt-title__hidden'}>{props.message}</h2>\r\n                <MoviesCardList daleteCard={props.handleClickDeleteMovie} buttonLike={false} showMore={props.showMore} status={(props.statMovies === true) ? 'moviesCardList' : 'moviesCardList__hidden'} movies={props.likedCards} />\r\n                <button className=\"savedMovies__button savedMovies__button_hidden\" type=\"button\" >Ещё</button>\r\n                <span className=\"savedMovies__saveddevider\"></span>\r\n            </div>\r\n            <Footer />\r\n        </>\r\n    )\r\n}\r\n\r\nexport default SavedMovies;","export const BASE_URL = 'http://api.diploma.nomoredomains.club';\r\n\r\n//'http://localhost:3001';\r\n\r\n//'http://api.diploma.nomoredomains.club';\r\n\r\nexport const register = (name, email, password) => { \r\n  return fetch(`${BASE_URL}/signup`, { \r\n    method: 'POST', \r\n    credentials: 'include', \r\n    headers: { \r\n      \"Content-Type\": \"application/json\" \r\n    }, \r\n    body: JSON.stringify({name, email, password }) \r\n  }) \r\n    .then((response) => { \r\n      try { \r\n        if (response.status === 200) { \r\n          return response.json(); \r\n        } \r\n      } catch (e) { \r\n        return (e) \r\n      } \r\n    }) \r\n    .catch((err) => console.log(err)); \r\n}; \r\n\r\nexport const authorize = (email, password) => { \r\n  return fetch(`${BASE_URL}/signin`, { \r\n    method: 'POST', \r\n    credentials: 'include', \r\n    headers: { \r\n      'Accept': 'application/json', \r\n      'Content-Type': 'application/json', \r\n    }, \r\n    body: JSON.stringify({ email, password }) \r\n  }) \r\n  .then((response => response.json())) \r\n    .then((data) => { \r\n      if (data.token) { \r\n        localStorage.setItem('jwt', data.token); \r\n        return data; \r\n      } else { \r\n        return \r\n      } \r\n    }) \r\n    .catch(err => console.log(err)) \r\n}; \r\n\r\n \r\n\r\nexport const getContent = (token) => { \r\n  return fetch(`${BASE_URL}/users/me`, { \r\n    method: 'GET', \r\n    credentials: 'include', \r\n    headers: { \r\n      'Accept': 'application/json', \r\n      'Content-Type': 'application/json', \r\n      'Authorization': `Bearer ${token}`, \r\n    } \r\n  }) \r\n  .then(res => res.json()) \r\n}  ","class Api {\r\n\r\n    constructor(options) {\r\n        this._baseUrl = options.baseUrl;\r\n        this._authorization = options.headers.authorization;\r\n        this._contentType = options.headers['Content-Type']\r\n    }\r\n    _getResponseData(res) {\r\n        if (!res.ok) {\r\n            return Promise.reject(`Ошибка: ${res.status}`);\r\n        }\r\n        return res.json();\r\n    }\r\n    //initial users\r\n    initialUsers() {\r\n        return fetch(`${this._baseUrl}/users/me`, {\r\n            credentials: 'include',\r\n            headers: {\r\n                authorization: this._authorization\r\n            }\r\n        })\r\n            .then(res => this._getResponseData(res))\r\n    }\r\n    //initial card from server\r\n    initCardsFromServer() {\r\n        return fetch(`${this._baseUrl}/movies`, {\r\n            credentials: 'include',\r\n            headers: {\r\n                authorization: this._authorization\r\n            }\r\n        })\r\n            .then(res => this._getResponseData(res))\r\n    }\r\n    //loading info about user on server\r\n    loadingUserInfoOnServer({ name, email }) {\r\n        return fetch(`${this._baseUrl}/users/me`, {\r\n            method: 'PATCH',\r\n            credentials: 'include',\r\n            headers: {\r\n                authorization: this._authorization,\r\n                'Content-Type': this._contentType\r\n            },\r\n            body: JSON.stringify({\r\n                name,\r\n                email\r\n            })\r\n        }).then(res => this._getResponseData(res))\r\n    }\r\n    //loading new cards on server \r\n    loadingNewCardOnServer({\r\n        movieId,\r\n        nameRU,\r\n        nameEN,\r\n        director,\r\n        thumbnail,\r\n        country,\r\n        year,\r\n        duration,\r\n        description,\r\n        trailer,\r\n        image }) {\r\n        return fetch(`${this._baseUrl}/movies`, {\r\n            method: 'POST',\r\n            credentials: 'include',\r\n            headers: {\r\n                authorization: this._authorization,\r\n                'Content-Type': this._contentType\r\n            },\r\n            body: JSON.stringify({\r\n                movieId,\r\n                nameRU,\r\n                nameEN,\r\n                director,\r\n                thumbnail,\r\n                country,\r\n                year,\r\n                duration,\r\n                description,\r\n                trailer,\r\n                image\r\n            })\r\n        })\r\n            .then(res => this._getResponseData(res));\r\n    }\r\n    //delete cards from server\r\n    deleteCardFromServer(cardId) {\r\n        return fetch(`${this._baseUrl}/movies/${cardId}`, {\r\n            method: 'DELETE',\r\n            credentials: 'include',\r\n            headers: {\r\n                authorization: this._authorization,\r\n            }\r\n        })\r\n            .then(res => this._getResponseData(res))\r\n    }\r\n}\r\n\r\n\r\nconst api = new Api({\r\n    baseUrl: 'https://api.your.mesto.nomoredomains.monster',\r\n    // 'http://localhost:3001', \r\n    //'https://api.your.mesto.nomoredomains.monster',\r\n    credentials: 'include',\r\n    headers: {\r\n        'Content-Type': 'application/json'\r\n    }\r\n});\r\n\r\nexport default api\r\n","class Api {\r\n    \r\n    constructor(options) {\r\n        this._baseUrl = options.baseUrl;\r\n        this._contentType = options.headers['Content-Type']\r\n    }\r\n    _getResponseData(res) {\r\n        if (!res.ok) {\r\n            return Promise.reject(`Ошибка: ${res.status}`);\r\n        }\r\n        return res.json();\r\n    }\r\n    //initial card from server\r\n    initCardsFromServer() {\r\n        return fetch(`${this._baseUrl}`)\r\n            .then(res => this._getResponseData(res))\r\n    }\r\n}\r\n\r\n\r\nconst moviesApi = new Api({\r\n    baseUrl: 'https://api.nomoreparties.co/beatfilm-movies',\r\n    headers: {\r\n        'Content-Type': 'application/json'\r\n    }\r\n});\r\n\r\nexport default moviesApi;","import React from 'react';\r\n\r\nexport const CurrentUserContext = React.createContext();","import React from 'react';\r\nimport Header from '../Header/Header';\r\nimport Navigation from '../Navigation/Navigation';\r\nimport './Profile.css';\r\nimport { Link } from 'react-router-dom';\r\nimport { CurrentUserContext } from '../../context/CurrentUserContext';\r\n\r\nfunction Profile(props) {\r\n    const currentUser = React.useContext(CurrentUserContext);\r\n    const [name, setName] = React.useState(currentUser.name);\r\n    const [email, setEmail] = React.useState(currentUser.email);\r\n    const [errStatName, setErrStatName] = React.useState(false);\r\n    const [errStatEmail, setErrStatEmail] = React.useState(false);\r\n    const [errMessage, setErrMessage] = React.useState(\"\");\r\n\r\n    function onChangeTagInputName(e) {\r\n        setName(e.target.value.replace(/[^\\-a-zA-Zа-яА-ЯЁё\\s]/, \"\"));\r\n        name === \"\" ? setErrMessage('Введены некоректные данные') : setErrMessage(\"\");\r\n        name === \"\" ? setErrStatName(true) : setErrStatName(false);\r\n    }\r\n    function onChangeTagInputEmail(e) {\r\n        setEmail(e.target.value);\r\n        !/\\S+@\\S+\\.\\S+/.test(email) ? setErrMessage('Email введен неверно') : setErrMessage(\"\");\r\n        !/\\S+@\\S+\\.\\S+/.test(email) ? setErrStatEmail(true) : setErrStatEmail(false);\r\n    }\r\n    function handleRedactClick(){\r\n    props.onRedactClick()\r\n    setErrMessage(\" \")\r\n    }\r\n    function handleClickUpdateUser(e) {\r\n        e.preventDefault();\r\n        props.handleUpdateUser({ name: name, email: email })\r\n        setErrMessage(\"Отправка...\")\r\n        setTimeout(() => {\r\n            setErrMessage(\"\")\r\n        }, 2000);\r\n    }\r\n\r\n    return (\r\n        <>\r\n        <Navigation handleClickCloseNavTab={props.handleClickCloseNavTab} status={props.status} />\r\n        <Header statusHeader={props.loggedIn} />\r\n        <form className=\"profile\">\r\n            <h2 className=\"profile__title\">Привет, {currentUser.name}!</h2>\r\n            <p className=\"profile__text\">Имя</p>\r\n            <p className={props.isRedact === true ? \"profile__text_hidden\" : \"profile__text\"}>{currentUser.name}</p>\r\n            <input onChange={(e) => onChangeTagInputName(e)} className={props.isRedact === false ? \"profile__text_hidden\" : (errStatName === false ? \"profile__text\" : \"profile__text profile__text_error\")} id=\"name-input\" value={name} name=\"user\" type=\"text\" placeholder=\"Имя\" required minLength=\"2\" maxLength=\"40\" />\r\n            <hr className=\"profile__line\"></hr>\r\n            <p className=\"profile__text\">E-mail</p>\r\n            <p className={props.isRedact === true ? \"profile__text_hidden\" : \"profile__text\"}>{currentUser.email}</p>\r\n            <input onChange={(e) => onChangeTagInputEmail(e)} className={props.isRedact === false ? \"profile__text_hidden\" : (errStatEmail === false ? \"profile__text\" : \"profile__text profile__text_error\")} id=\"email-input\" value={email} name=\"email\" type=\"E-mail\" placeholder=\"E-mail\" required minLength=\"2\" maxLength=\"50\" />\r\n            <button type=\"button\" className={props.isRedact === true ? \"profile__redact_hidden\" : \"profile__redact\"} onClick={handleRedactClick}>Редактировать</button>\r\n            <Link onClick={props.signOut} className={props.isRedact === true ? \"profile__exit_hidden\" : \"profile__exit\"} to='/'>Выйти из аккаунта</Link>\r\n            <span className={props.isRedact === false ? \"profile__error_hidden\" : \"profile__error\"}>{errMessage || props.statServer}</span>\r\n            <button onClick={(e) => ((errStatName === false) && (errStatEmail === false) && ((name !== currentUser.name) || (email !== currentUser.email)) && (name.length > 1)) ? handleClickUpdateUser(e) : e.preventDefault()} type=\"submit\" className={props.isRedact === false ? \"profile__save_hidden\" : ((errStatName === false) && (errStatEmail === false) && ((name !== currentUser.name) || (email !== currentUser.email)) && (name.length > 1)) ? \"profile__save\" : \"profile__save profile__save_unactive\"}>Сохранить</button>\r\n        </form>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Profile;","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport './Login.css';\r\n\r\nfunction Login(props) {\r\n\r\n    const [email, setEmail] = React.useState(\"\");\r\n    const [password, setPassword] = React.useState(\"\");\r\n    const [errMessage, setErrMessage] = React.useState(\"\");\r\n    const [errStatEmail, setErrStatEmail] = React.useState(false);\r\n    const [errStatPassword, setErrStatPassword] = React.useState(false);\r\n\r\n    function onChangeTagInputEmail(e) {\r\n        setEmail(e.target.value);\r\n        !/\\S+@\\S+\\.\\S+/.test(e.target.value)? setErrMessage('Email введен неверно') : setErrMessage(\"\");\r\n        !/\\S+@\\S+\\.\\S+/.test(e.target.value) ? setErrStatEmail(true) : setErrStatEmail(false);\r\n    }\r\n    function onChangeTagInputPass(e) {\r\n        setPassword(e.target.value);\r\n        password.length < 7 ? setErrMessage('Слишком короткий пароль (меньше 8 символов)') : setErrMessage(\"\");\r\n        password.length < 7 ? setErrStatPassword(true) : setErrStatPassword(false)\r\n    }\r\n\r\n    function handleLoginClick(e){\r\n        e.preventDefault();\r\n        props.handleLogin(email, password)\r\n        setErrMessage(\"Отправка...\")\r\n        setTimeout(() => {\r\n            setErrMessage(\"\")\r\n        }, 2000);\r\n    }\r\n\r\n    return (\r\n        <form id=\"login\" name=\"login\" className=\"login\" noValidate>\r\n            <Link className=\"login__logo\" to=\"/\"></Link>\r\n            <h2 className=\"login__welcome\">Рады видеть!</h2>\r\n            <p className=\"login__title\">E-mail</p>\r\n            <input id=\"login-input\" value={email} onChange={ onChangeTagInputEmail} name=\"email\" type=\"email\" className={errStatEmail === false ? \"login__input\" : \"login__input login__input_error\"} placeholder=\"Email\" required minLength=\"2\" maxLength=\"40\" />\r\n            <p className=\"login__title\">Пароль</p>\r\n            <input id=\"password-input\" value={password} onChange={onChangeTagInputPass} name=\"password\" type=\"password\" className={errStatPassword === false ? \"login__input\" : \"login__input login__input_error\"} placeholder=\"Пароль\" required minLength=\"2\" maxLength=\"200\" />\r\n            <span className=\"login__input-error\">{errMessage || props.statServer}</span>\r\n            <button onClick={(e) => ((errStatEmail === false) && (errStatPassword === false) && (email !== \"\") && (password !== \"\") && (password.length > 7)) ? handleLoginClick(e) :  e.preventDefault()} type=\"submit\" className={((errStatEmail === false) && (errStatPassword === false) && (email !== \"\") && (password !== \"\") && (password.length > 7)) ? \"login__button-login\" : \"login__button-login login__button-login_unactive\"}>Войти</button>\r\n            <p className=\"login__text\">Ещё не зарегистрированы?</p>\r\n            <Link className=\"login__link\" to=\"/signup\">Регистрация</Link>\r\n        </form>\r\n    )\r\n}\r\n\r\nexport default Login;","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport './Register.css';\r\n\r\nfunction Register(props) {\r\n\r\n    const [name, setName] = React.useState(\"\");\r\n    const [email, setEmail] = React.useState(\"\");\r\n    const [password, setPassword] = React.useState(\"\");\r\n    const [errMessage, setErrMessage] = React.useState(\"\");\r\n    const [errStatName, setErrStatName] = React.useState(false);\r\n    const [errStatEmail, setErrStatEmail] = React.useState(false);\r\n    const [errStatPassword, setErrStatPassword] = React.useState(false);\r\n\r\n\r\n    function onChangeTagInputName(e) {\r\n        setName(e.target.value.replace(/[^\\-a-zA-Zа-яА-ЯЁё\\s]/, \"\"));\r\n        name === \"\" ? setErrMessage('Введены некоректные данные') : setErrMessage(\"\");\r\n        name === \"\" ? setErrStatName(true) : setErrStatName(false);\r\n    }\r\n    function onChangeTagInputEmail(e) {\r\n        setEmail(e.target.value);\r\n        !/\\S+@\\S+\\.\\S+/.test(e.target.value) ? setErrMessage('Email введен неверно') : setErrMessage(\"\");\r\n        !/\\S+@\\S+\\.\\S+/.test(e.target.value) ? setErrStatEmail(true) : setErrStatEmail(false);\r\n    }\r\n\r\n    function onChangeTagInputPass(e) {\r\n        setPassword(e.target.value);\r\n        password.length < 7 ? setErrMessage('Слишком короткий пароль, (меньше 8 символов)') : setErrMessage(\"\");\r\n        password.length < 7 ? setErrStatPassword(true) : setErrStatPassword(false)\r\n    }\r\n\r\n    function handleRegisterClick(e) {\r\n        e.preventDefault();\r\n        props.handleRegister(name, email, password)\r\n        setErrMessage(\"Отправка...\")\r\n        setTimeout(() => {\r\n            setErrMessage(\"Ошибка отправки, попробуйте другой Email\")\r\n            setTimeout(() => {\r\n                setErrMessage(\"\")\r\n            }, 2000);\r\n        }, 2000);\r\n    }\r\n\r\n    return (\r\n        <form id=\"auth\" name=\"auth\" className=\"register\" noValidate>\r\n            <Link className=\"register__logo\" to=\"/\"></Link>\r\n            <h2 className=\"register__welcome\">Добро пожаловать!</h2>\r\n            <p className=\"register__title\">Имя</p>\r\n            <input id=\"name-input\" value={name} onChange={(e) => onChangeTagInputName(e)} name=\"name\" type=\"text\" className={errStatName === false ? \"register__input\" : \"register__input register__input_error\"} placeholder=\"Имя\" required minLength=\"2\" maxLength=\"40\" />\r\n            <p className=\"register__title\">E-mail</p>\r\n            <input id=\"login-input\" value={email} onChange={(e) => onChangeTagInputEmail(e)} name=\"email\" type=\"email\" className={errStatEmail === false ? \"register__input\" : \"register__input register__input_error\"} placeholder=\"Email\" required minLength=\"2\" maxLength=\"40\" />\r\n            <p className=\"register__title\">Пароль</p>\r\n            <input id=\"password-input\" value={password} onChange={(e) => onChangeTagInputPass(e)} name=\"password\" type=\"password\" className={(errStatPassword === false) && (password.length > 7) ? \"register__input\" : \"register__input register__input_error\"} placeholder=\"Пароль\" required minLength=\"2\" maxLength=\"40\" />\r\n            <span className=\"register__input-error\">{errMessage || props.statServer}</span>\r\n            <button onClick={(e) => ((errStatName === false) && (errStatEmail === false) && (errStatPassword === false) && (name !== \"\") && (email !== \"\") && (password !== \"\") && (password.length > 7)) ? handleRegisterClick(e) : e.preventDefault()} type=\"submit\" className={((errStatName === false) && (errStatEmail === false) && (errStatPassword === false) && (name !== \"\") && (email !== \"\") && (password !== \"\") && (password.length > 7)) ? \"register__button-login\" : \"register__button-login register__button-login_unactive\"}>Зарегистрироваться</button>\r\n            <p className=\"register__text\">Уже зарегистрировались?</p>\r\n            <Link className=\"register__link\" to=\"/signin\"> Войти</Link>\r\n        </form>\r\n    )\r\n}\r\n\r\nexport default Register;","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport './PageNotFound.css';\n\nfunction PageNotFound () {\n  return (\n    <div className=\"not-found\">\n      <h2 className=\"not-found__title\">404</h2>\n      <p className=\"not-found__text\">\n      Страница не найдена\n      </p>\n      <Link className=\"not-found__link\" to=\"/\">Назад</Link>\n    </div>\n  )\n}\n\nexport default PageNotFound; ","import React from \"react\";\r\nimport { Route, Redirect } from \"react-router-dom\";\r\n\r\nconst ProtectedRoute = ({ component: Component, ...props }) => {\r\n  return (\r\n    <Route>\r\n      {() =>\r\n        props.loggedIn ? <Component {...props} /> : <Redirect to=\"/\" />\r\n      }\r\n    </Route>\r\n  );\r\n};\r\n\r\nexport default ProtectedRoute;","import React from 'react';\nimport Main from '../Main/Main';\nimport Footer from '../Footer/Footer';\nimport Movies from '../Movies/Movies';\nimport Navigation from '../Navigation/Navigation';\nimport SavedMovies from '../SavedMovies/SavedMovies';\nimport * as Auth from '../../utils/auth';\nimport api from '../../utils/MainApi';\nimport moviesApi from '../../utils/MoviesApi';\nimport Profile from '../Profile/Profile';\nimport Login from '../Login/Login';\nimport Register from '../Register/Register';\nimport PageNotFound from '../PageNotFound/PageNotFound';\nimport { CurrentUserContext } from '../../context/CurrentUserContext';\nimport { Route, Switch, useHistory } from 'react-router-dom';\nimport ProtectedRoute from \"../ProtectedRoute/ProtectedRoute\";\n\nfunction App() {\n  const [currentUser, setCurrentUser] = React.useState({});\n  const [savedCards, setSavedCards] = React.useState([]);\n  const [likedCards, setLikedCards] = React.useState([]);\n  const [message, setMessage] = React.useState(' ');\n  const [filtText, setFiltText] = React.useState('');\n  const [statServer, setStatServer] = React.useState('');\n  const [statErrProfile, setErrProfile] = React.useState('');\n  const [numPlus, setNumPlus] = React.useState(3);\n  const [showMore, setShowMore] = React.useState(12);\n  const [filter, setFilter] = React.useState(false);\n  const [status, setStatus] = React.useState(false);\n  const [loggedIn, setLoggedIn] = React.useState(false);\n  const [statResult, setStatResult] = React.useState(false);\n  const [statMovies, setStatMovies] = React.useState(false);\n  const [statButton, setStatButton] = React.useState(false);\n  const [statPreload, setStatPreload] = React.useState(false);\n  const [filterSearch, setFilterSearch] = React.useState(false);\n  const [redactProfile, setRedactProfile] = React.useState(false);\n  const history = useHistory();\n\n  React.useEffect(() => {\n    adaptivContent();\n  }, []);\n\n  React.useEffect(() => {\n    if (loggedIn) {\n      function getUserInfo() {\n        api.initialUsers()\n          .then((result) => {\n            setCurrentUser(\n              result.data\n            );\n          })\n          .catch((err) => {\n            console.log(err)\n          })\n      }\n      \n      function loadNewMoviesFromServis() {\n        moviesApi.initCardsFromServer()\n          .then((result) => {\n            localStorage.setItem(\"cards\", JSON.stringify([...result]));\n          })\n          .catch((err) => {\n            setMessage('Во время обращения к серверу произошла ошибка. Возможно, проблема с соединением или сервер недоступен. Подождите немного и попробуйте обновить ещё раз');\n            console.log(err)\n          })\n      }\n      loadNewMoviesFromServis();\n      getUserInfo();\n    }\n  }, [loggedIn]);\n\n  React.useEffect(() => {\n    window.addEventListener(`resize`, event => {\n      adaptivContent();\n    }, false);\n    (savedCards.length > 0) ? setStatMovies(true) : setStatMovies(false);\n    (savedCards.length >= showMore) ? setStatButton(true) : setStatButton(false);\n\n  }, [showMore, savedCards]);\n\n  React.useEffect(() => {\n    let regular = new RegExp(`${filtText}`, 'i');\n    function filterLikedMuvies() {\n      \n      let filteredLikedCards;\n\n      setStatResult(false);\n      if (filter === false) {\n        if (filterSearch === false) {\n          filteredLikedCards = getLocalStorageLikedCards();\n          return filteredLikedCards;\n        } else {\n          filteredLikedCards = getLocalStorageLikedCards().filter((c) => regular.test(c.nameRU));\n          if (filteredLikedCards.length < 1) {\n            setStatMovies(false);\n            setStatButton(false)\n            setStatResult(true);\n            setMessage('Ничего не найдено');\n            return filteredLikedCards;\n          } else {\n            setStatMovies(true);\n            setStatResult(false);\n            setStatButton(false);\n            return filteredLikedCards;\n          }\n        }\n      } else {\n        if (filterSearch === false) {\n          filteredLikedCards = getLocalStorageLikedCards().filter((c) => c.duration < 40);\n          return filteredLikedCards;\n        } else {\n          filteredLikedCards = getLocalStorageLikedCards().filter((c) => c.duration < 40).filter((c) => regular.test(c.nameRU));\n          if (filteredLikedCards.length < 1) {\n            setStatMovies(false);\n            setStatResult(true);\n            setMessage('Ничего не найдено');\n            setStatButton(false)\n            return filteredLikedCards;\n          } else {\n            setStatResult(false);\n            setStatMovies(true);\n            setStatButton(false);\n            return filteredLikedCards;\n          }\n        }\n      }\n    }\n    function initialSavedCards() {\n      api.initCardsFromServer()\n        .then((result) => {\n          if (typeof currentUser._id !== 'undefined') {\n            localStorage.setItem(\"likeCards\", JSON.stringify([...result.data.filter((c) => c.owner === currentUser._id)]))\n          }\n        })\n        .then(() => setLikedCards(filterLikedMuvies()))\n        .catch((err) => {\n          console.log(err)\n        })\n    }\n    initialSavedCards();\n  }, [filter, filterSearch, currentUser]);\n\n  React.useEffect(() => {\n    function tokenCheck() {\n      const jwt = localStorage.getItem('jwt');\n      if (jwt) {\n        Auth.getContent(jwt).then((res) => {\n          if (res) {\n            setLoggedIn(true);\n          }\n        }).catch((err) => {\n          console.log(err)\n        })\n      }\n    }\n    tokenCheck();\n  }, []);\n\n  const filterMuvies = React.useCallback((filtText) => {\n    let filteredCards;\n    setStatResult(false);\n    let regular = new RegExp(`${filtText}`, 'i');\n    if (filter === false) {\n      filteredCards = getLocalStorage().filter((c) => regular.test(c.nameRU));\n      return filteredCards;\n    } else {\n      filteredCards = getLocalStorage().filter((c) => c.duration < 40).filter((c) => regular.test(c.nameRU));\n      return filteredCards;\n    }\n  }, [filter]);\n\n  React.useEffect(() => {\n    let saved = filterMuvies(filtText).map(card => {\n      if (getLocalStorageLikedCards().find(({ movieId }) => movieId === card.id.toString())) {\n        card.isLiked = true\n        return card;\n      } else {\n        return card;\n      };\n    })\n    setSavedCards(saved)\n  }, [filter, filterMuvies]);\n\n  const adaptivContent = () => {\n    let width = window.innerWidth;\n    if (width >= 1280) {\n      setShowMore(12);\n      setNumPlus(3);\n    } else if ((width >= 768) && (width < 1280)) {\n      setShowMore(8);\n      setNumPlus(2);\n    } else if ((width >= 320) && (width < 768)) {\n      setShowMore(5);\n      setNumPlus(5);\n    }\n  }\n\n  const searchSavedCards = (e) => {\n    e.preventDefault();\n    setFilterSearch(true)\n  }\n\n  function initialCards() {\n    let regular = new RegExp(`${filtText}`, 'i');\n    let movies = filterMuvies(filtText).filter((c) => regular.test(c.nameRU)).map(card => {\n      if (getLocalStorageLikedCards().find(({ movieId }) => movieId === card.id.toString())) {\n        card.isLiked = true\n        return card;\n      } else {\n        return card;\n      };\n    })\n    setFilterSearch(false)\n    setStatPreload(true);\n    setStatMovies(false);\n    setStatButton(false);\n    setTimeout(() => {\n    if (movies.length < 1) {\n      setStatResult(true);\n      setMessage('Ничего не найдено');\n    } else {\n      setStatResult(false);\n      setSavedCards(movies);\n    }\n    setStatPreload(false);\n  }, 2000);\n  }\n\n  const handleClickSaveMovie = (data) => {\n    api.loadingNewCardOnServer(data).then((newCard) => {\n      newCard.isLiked = true;\n      setLikedCards([...likedCards, newCard]);\n      let saved = savedCards.map(card => {\n        if (newCard.movieId === card.id.toString()) {\n          card.isLiked = true\n          return card\n        } else {\n          return card;\n        };\n      })\n      setSavedCards(saved)\n    })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  const handleClickDeleteMovie = (card) => {\n    let deleteCard = likedCards.filter((c) => c.movieId === card.id.toString())\n    api.deleteCardFromServer(deleteCard[0]._id)\n      .then(() => {\n        setLikedCards((state) => state.filter((c) => c.movieId !== deleteCard[0].movieId));\n        let saved = savedCards.map(c => {\n          if (card.id.toString() === c.id.toString()) {\n            c.isLiked = false\n            return c;\n          } else {\n            return c;\n          };\n        })\n        setSavedCards(saved)\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  };\n\n  const handleClickDeleteLikedMovie = (card) => {\n    let deleteCard = likedCards.filter((c) => c._id === card._id.toString())\n    api.deleteCardFromServer(deleteCard[0]._id)\n      .then(() => {\n        setLikedCards((state) => state.filter((c) => c._id !== deleteCard[0]._id));\n        let saved = savedCards.map(c => {\n          if (card.movieId === c.id.toString()) {\n            c.isLiked = false\n            return c\n          } else {\n            return c;\n          };\n        })\n        setSavedCards(saved)\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  };\n\n  const openNav = () => {\n    setStatus(true);\n  }\n  const closeNav = () => {\n    setStatus(false);\n  }\n\n  const handleRedactClick = () => {\n    setRedactProfile(true)\n  };\n\n  function handleClickShowMore(e) {\n    e.preventDefault();\n    let num = showMore + numPlus;\n    setShowMore(num);\n  }\n\n  const handleClickFilterCheckbox = () => {\n    filter === false ? setFilter(true) : setFilter(false);\n  }\n\n  function getLocalStorage() {\n    const card = localStorage.getItem('cards');\n    return card !== null ? JSON.parse(card) : [];\n  }\n\n  function getLocalStorageLikedCards() {\n    const card = localStorage.getItem(\"likeCards\");\n    return card !== null ? JSON.parse(card) : [];\n  };\n\n\n  const handleRegister = (name, email, password) => {\n    Auth.register(name, email, password)\n      .then((res) => {\n        if (res) {\n          handleLogin(email, password)\n        }\n      }).catch((err) => {\n        setStatServer(err.message);\n        console.log(err.message);\n      });\n  };\n\n  function handleLogin(email, password) {\n    Auth.authorize(email, password)\n      .then((data) => {\n        if (data.token) {\n          setLoggedIn(true);\n          setStatServer('');\n          setTimeout(() => {\n            history.push('/movies');\n          }, 1000);\n        }\n      })\n      .catch((err) => {\n        setStatServer('Ошибка отправки данных на сервер');\n        setTimeout(() => {\n          setStatServer('');\n        }, 5000);\n        console.log(err)\n      })\n  };\n\n  function signOut() {\n    localStorage.removeItem('jwt');\n    localStorage.removeItem('likeCards');\n    localStorage.removeItem('cards');\n    setSavedCards([])\n    setLikedCards([])\n    setLoggedIn(false);\n  };\n\n  function handleUpdateUser(data) {\n    api.loadingUserInfoOnServer({ name: data.name, email: data.email }).then((result) => {\n      if (result.data) {\n        setCurrentUser(result.data);\n        setErrProfile('Данные успешно изменены!');\n        setTimeout(() => {\n          setRedactProfile(false);\n          setErrProfile('');\n        }, 4000);\n      }\n    }).catch((err) => {\n      setErrProfile('Ошибка отправки данных (возможно этот Email уже занят!');\n      console.log(err);\n    })\n  };\n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n      <div className=\"App\">\n        <Switch>\n          <Route exact path=\"/\">\n            <Navigation isOpen={status} handleClickCloseNavTab={closeNav} status={'main'} />\n            <Main statusHeader={loggedIn} />\n            <Footer />\n          </Route>\n          <Route path=\"/signup\">\n            <Register statServer={statServer} handleRegister={handleRegister} />\n          </Route>\n          <Route path=\"/signin\">\n            <Login statServer={statServer} handleLogin={handleLogin} />\n          </Route>\n          <ProtectedRoute\n            path=\"/movies\"\n            status={'movies'}\n            filter={filter}\n            isOpen={status}\n            message={message}\n            loggedIn={loggedIn}\n            showMore={showMore}\n            statButton={statButton}\n            statResult={statResult}\n            savedCards={savedCards}\n            statMovies={statMovies}\n            statPreload={statPreload}\n            openNav={openNav}\n            component={Movies}\n            setFiltText={setFiltText}\n            initialCards={initialCards}  \n            handleClickCloseNavTab={closeNav}\n            handleClickShowMore={handleClickShowMore}\n            handleClickSaveMovie={handleClickSaveMovie}\n            handleClickDeleteMovie={handleClickDeleteMovie}\n            handleClickFilterCheckbox={handleClickFilterCheckbox} />\n          <ProtectedRoute\n            path=\"/saved-movies\"\n            status={'saved-movies'}\n            filter={filter}\n            message={message}\n            loggedIn={loggedIn}\n            statResult={statResult}\n            statMovies={statMovies}\n            likedCards={likedCards}\n            component={SavedMovies}\n            setFiltText={setFiltText}\n            handleClickCloseNavTab={closeNav}\n            searchSavedCards={searchSavedCards}\n            handleClickDeleteMovie={handleClickDeleteLikedMovie}\n            handleClickFilterCheckbox={handleClickFilterCheckbox} />\n          <ProtectedRoute\n            path=\"/profile\"\n            status={'profile'}\n            loggedIn={loggedIn}\n            isRedact={redactProfile}\n            statServer={statErrProfile}\n            signOut={signOut}\n            component={Profile}\n            onRedactClick={handleRedactClick}\n            handleClickCloseNavTab={closeNav}\n            handleUpdateUser={handleUpdateUser} />\n          <Route path=\"*\">\n            <PageNotFound />\n          </Route>\n        </Switch>\n      </div>\n    </CurrentUserContext.Provider >\n  );\n}\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom'; // импортируем BrowserRouter\nimport App from './components/App/App';\nimport './index.css';\n\n// теперь обернём компонент App в BrowserRouter\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter> \n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n); \n\n"],"sourceRoot":""}