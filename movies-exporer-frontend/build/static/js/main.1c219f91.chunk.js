(this["webpackJsonpmovies-exporer-frontend"]=this["webpackJsonpmovies-exporer-frontend"]||[]).push([[0],Array(29).concat([function(e,t,n){},,,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(1),i=n.n(a),s=n(20),c=n.n(s),r=n(3),o=n(15),l=n(2),u=n.p+"static/media/header-logo.4410338f.svg",d=(n(29),n(0));var h=function(e){return Object(d.jsxs)("div",{className:!1===e.statusHeader?"headerPromo":"headerPromo__hidden",children:[Object(d.jsx)("img",{className:"headerPromo__logo",src:u,alt:"Promo-logo"}),Object(d.jsx)(r.b,{className:"headerPromo__link-signup",to:"/signup",children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"}),Object(d.jsx)(r.b,{className:"headerPromo__link-signin",to:"/signin",children:"\u0412\u043e\u0439\u0442\u0438"})]})};n(36);var j=function(){return Object(d.jsxs)("div",{className:"promo",children:[Object(d.jsx)("h1",{className:"promo__title",children:"\u0423\u0447\u0435\u0431\u043d\u044b\u0439 \u043f\u0440\u043e\u0435\u043a\u0442 \u0441\u0442\u0443\u0434\u0435\u043d\u0442\u0430 \u0444\u0430\u043a\u0443\u043b\u044c\u0442\u0435\u0442\u0430 \u0412\u0435\u0431-\u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0438."}),Object(d.jsx)("div",{className:"promo__logo"})]})};n(37);var m=function(){return Object(d.jsxs)("div",{className:"promoNavTab",children:[Object(d.jsx)("a",{className:"promoNavTab__link",href:"#project",children:"\u041e \u043f\u0440\u043e\u0435\u043a\u0442\u0435"}),Object(d.jsx)("a",{className:"promoNavTab__link",href:"#techs",children:"\u0422\u0435\u0445\u043d\u043e\u043b\u043e\u0433\u0438\u0438"}),Object(d.jsx)("a",{className:"promoNavTab__link",href:"#student",children:"\u0421\u0442\u0443\u0434\u0435\u043d\u0442"})]})};n(38);var _=function(){return Object(d.jsxs)("div",{id:"project",className:"aboutProject",children:[Object(d.jsx)("h2",{className:"aboutProject__title",children:"\u041e \u043f\u0440\u043e\u0435\u043a\u0442\u0435"}),Object(d.jsx)("h3",{className:"aboutProject__heading",children:"\u041d\u0430 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435 \u0434\u0438\u043f\u043b\u043e\u043c\u0430 \u0443\u0448\u043b\u043e 5 \u043d\u0435\u0434\u0435\u043b\u044c"}),Object(d.jsx)("p",{className:"aboutProject__text",children:"\u0423 \u043a\u0430\u0436\u0434\u043e\u0433\u043e \u044d\u0442\u0430\u043f\u0430 \u0431\u044b\u043b \u043c\u044f\u0433\u043a\u0438\u0439 \u0438 \u0436\u0451\u0441\u0442\u043a\u0438\u0439 \u0434\u0435\u0434\u043b\u0430\u0439\u043d, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043d\u0443\u0436\u043d\u043e \u0431\u044b\u043b\u043e \u0441\u043e\u0431\u043b\u044e\u0434\u0430\u0442\u044c, \u0447\u0442\u043e\u0431\u044b \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0437\u0430\u0449\u0438\u0442\u0438\u0442\u044c\u0441\u044f."}),Object(d.jsx)("h3",{className:"aboutProject__heading",children:"\u0414\u0438\u043f\u043b\u043e\u043c\u043d\u044b\u0439 \u043f\u0440\u043e\u0435\u043a\u0442 \u0432\u043a\u043b\u044e\u0447\u0430\u043b 5 \u044d\u0442\u0430\u043f\u043e\u0432"}),Object(d.jsx)("p",{className:"aboutProject__text",children:"\u0421\u043e\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u043f\u043b\u0430\u043d\u0430, \u0440\u0430\u0431\u043e\u0442\u0443 \u043d\u0430\u0434 \u0431\u044d\u043a\u0435\u043d\u0434\u043e\u043c, \u0432\u0451\u0440\u0441\u0442\u043a\u0443, \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0444\u0443\u043d\u043a\u0446\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u043e\u0441\u0442\u0438 \u0438 \u0444\u0438\u043d\u0430\u043b\u044c\u043d\u044b\u0435 \u0434\u043e\u0440\u0430\u0431\u043e\u0442\u043a\u0438."}),Object(d.jsx)("p",{className:"aboutProject__progress-bar",children:"1 \u043d\u0435\u0434\u0435\u043b\u044f"}),Object(d.jsx)("p",{className:"aboutProject__progress-bar",children:"4 \u043d\u0435\u0434\u0435\u043b\u0438"}),Object(d.jsx)("p",{className:"aboutProject__progress-title",children:"Back-end"}),Object(d.jsx)("p",{className:"aboutProject__progress-title",children:"Front-end"})]})};n(39);var b=function(e){return Object(d.jsxs)("div",{className:!0===e.statusHeader?"header":"header__hidden",children:[Object(d.jsx)(r.b,{className:"header__logo",to:"/"}),Object(d.jsx)(r.b,{className:"header__link",to:"/movies",children:"\u0424\u0438\u043b\u044c\u043c\u044b"}),Object(d.jsx)(r.b,{className:"header__link",to:"/saved-movies",children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0451\u043d\u043d\u044b\u0435 \u0444\u0438\u043b\u044c\u043c\u044b"}),Object(d.jsx)(r.b,{className:"header__link header__link_profile",to:"/profile",children:"\u0410\u043a\u043a\u0430\u0443\u043d\u0442"}),Object(d.jsx)("button",{type:"button",onClick:e.openNav,className:"header__button"})]})};n(40);var f=function(){return Object(d.jsxs)("div",{id:"techs",className:"techs",children:[Object(d.jsx)("h2",{className:"techs__title",children:"\u0422\u0435\u0445\u043d\u043e\u043b\u043e\u0433\u0438\u0438"}),Object(d.jsx)("h3",{className:"techs__heading",children:"7 \u0442\u0435\u0445\u043d\u043e\u043b\u043e\u0433\u0438\u0439"}),Object(d.jsx)("p",{className:"techs__text",children:"\u041d\u0430 \u043a\u0443\u0440\u0441\u0435 \u0432\u0435\u0431-\u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0438 \u043c\u044b \u043e\u0441\u0432\u043e\u0438\u043b\u0438 \u0442\u0435\u0445\u043d\u043e\u043b\u043e\u0433\u0438\u0438, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043f\u0440\u0438\u043c\u0435\u043d\u0438\u043b\u0438 \u0432 \u0434\u0438\u043f\u043b\u043e\u043c\u043d\u043e\u043c \u043f\u0440\u043e\u0435\u043a\u0442\u0435."}),Object(d.jsx)("p",{className:"techs__name",children:"HTML"}),Object(d.jsx)("p",{className:"techs__name",children:"CSS"}),Object(d.jsx)("p",{className:"techs__name",children:"JS"}),Object(d.jsx)("p",{className:"techs__name",children:"React"}),Object(d.jsx)("p",{className:"techs__name",children:"Git"}),Object(d.jsx)("p",{className:"techs__name",children:"Express.js"}),Object(d.jsx)("p",{className:"techs__name",children:"mongoDB"})]})},p=(n(41),n.p+"static/media/avatar.0d3b1247.svg");var v=function(){return Object(d.jsxs)("div",{id:"student",className:"aboutMe",children:[Object(d.jsx)("h2",{className:"aboutMe__title",children:"\u0421\u0442\u0443\u0434\u0435\u043d\u0442"}),Object(d.jsx)("p",{className:"aboutMe__name",children:"\u0412\u043b\u0430\u0434\u0438\u0441\u043b\u0430\u0432"}),Object(d.jsx)("p",{className:"aboutMe__info",children:"\u0424\u0440\u043e\u043d\u0442\u0435\u043d\u0434-\u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a, 25 \u043b\u0435\u0442"}),Object(d.jsx)("p",{className:"aboutMe__text",children:"\u042f \u0436\u0438\u0432\u0443 \u0432 \u0421\u0430\u043d\u043a\u0442-\u041f\u0435\u0442\u0435\u0440\u0431\u0443\u0440\u0433\u0435, \u0437\u0430\u043a\u043e\u043d\u0447\u0438\u043b \u0444\u0430\u043a\u0443\u043b\u044c\u0442\u0435\u0442 \u044d\u043a\u043e\u043d\u043e\u043c\u0438\u043a\u0438 \u0421\u0413\u0423. \u041b\u044e\u0431\u043b\u044e \u0441\u043b\u0443\u0448\u0430\u0442\u044c \u043c\u0443\u0437\u044b\u043a\u0443, \u0447\u0438\u0442\u0430\u0442\u044c \u043a\u043d\u0438\u0433\u0438, \u0430 \u0435\u0449\u0451 \u0443\u0432\u043b\u0435\u043a\u0430\u044e\u0441\u044c \u043f\u043b\u0430\u0432\u0430\u043d\u0438\u0435\u043c. \u041d\u0435\u0434\u0430\u0432\u043d\u043e \u043d\u0430\u0447\u0430\u043b \u043a\u043e\u0434\u0438\u0442\u044c. \u0421 2015 \u0433\u043e\u0434\u0430 \u0440\u0430\u0431\u043e\u0442\u0430\u043b \u0432 \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0438 \xab\u041e\u0410\u041e \u0421\u043e\u0445\u043e\xbb. \u041f\u043e\u0441\u043b\u0435 \u0442\u043e\u0433\u043e, \u043a\u0430\u043a \u043f\u0440\u043e\u0448\u0451\u043b \u043a\u0443\u0440\u0441 \u043f\u043e \u0432\u0435\u0431-\u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0435, \u043d\u0430\u0447\u0430\u043b \u0437\u0430\u043d\u0438\u043c\u0430\u0442\u044c\u0441\u044f \u0444\u0440\u0438\u043b\u0430\u043d\u0441-\u0437\u0430\u043a\u0430\u0437\u0430\u043c\u0438 \u0438 \u0443\u0448\u0451\u043b \u0441 \u043f\u043e\u0441\u0442\u043e\u044f\u043d\u043d\u043e\u0439 \u0440\u0430\u0431\u043e\u0442\u044b."}),Object(d.jsx)("a",{className:"aboutMe__link",href:"https://www.facebook.com/",children:"Facebook"}),Object(d.jsx)("a",{className:"aboutMe__link",href:"https://github.com/V-MilkyWay",children:"Github"}),Object(d.jsx)("img",{className:"aboutMe__avatar",src:p,alt:"\u0410\u0432\u0430\u0442\u0430\u0440\u043a\u0430"})]})};n(42);var O=function(){return Object(d.jsxs)("div",{className:"portfolio",children:[Object(d.jsx)("h2",{className:"portfolio__title",children:"\u041f\u043e\u0440\u0442\u0444\u043e\u043b\u0438\u043e"}),Object(d.jsx)("p",{className:"portfolio__text",children:"\u0421\u0442\u0430\u0442\u0438\u0447\u043d\u044b\u0439 \u0441\u0430\u0439\u0442"}),Object(d.jsx)("a",{className:"portfolio__link",href:"https://github.com/V-MilkyWay/how-to-learn",children:"\u2197"}),Object(d.jsx)("p",{className:"portfolio__text",children:"\u0410\u0434\u0430\u043f\u0442\u0438\u0432\u043d\u044b\u0439 \u0441\u0430\u0439\u0442"}),Object(d.jsx)("a",{className:"portfolio__link",href:"https://github.com/V-MilkyWay/russian-travel",children:"\u2197"}),Object(d.jsx)("p",{className:"portfolio__text",children:"\u041e\u0434\u043d\u043e\u0441\u0442\u0440\u0430\u043d\u0438\u0447\u043d\u043e\u0435 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435"}),Object(d.jsx)("a",{className:"portfolio__link",href:"https://github.com/V-MilkyWay/react-mesto-api-full",children:"\u2197"})]})};n(43);var x=function(e){return Object(d.jsxs)("div",{className:"main",children:[Object(d.jsx)(h,{statusHeader:e.statusHeader}),Object(d.jsx)(b,{openNav:e.openNav,statusHeader:e.statusHeader}),Object(d.jsx)(j,{}),Object(d.jsx)(m,{}),Object(d.jsx)(_,{}),Object(d.jsx)(f,{}),Object(d.jsx)(v,{}),Object(d.jsx)(O,{})]})};n(44);var g=function(){return Object(d.jsxs)("div",{className:"footer",children:[Object(d.jsx)("h3",{className:"footer__title",children:"\u0423\u0447\u0435\u0431\u043d\u044b\u0439 \u043f\u0440\u043e\u0435\u043a\u0442 \u042f\u043d\u0434\u0435\u043a\u0441.\u041f\u0440\u0430\u043a\u0442\u0438\u043a\u0443\u043c \u0445 BeatFilm."}),Object(d.jsx)("p",{className:"footer__copyrigh",children:"\xa9 2020"}),Object(d.jsx)("a",{className:"footer__link",href:"https://practicum.yandex.ru",children:"\u042f\u043d\u0434\u0435\u043a\u0441.\u041f\u0440\u0430\u043a\u0442\u0438\u043a\u0443\u043c"}),Object(d.jsx)("a",{className:"footer__link",href:"https://github.com",children:"Github"}),Object(d.jsx)("a",{className:"footer__link",href:"https://www.facebook.com",children:"Facebook"})]})},N=(n(45),n.p+"static/media/search-icon.9d65490b.svg");var k=function(e){var t=i.a.useState(""),n=Object(l.a)(t,2),a=n[0],s=n[1];return Object(d.jsxs)("form",{className:"searchForm",children:[Object(d.jsx)("img",{className:"searchForm__icon",src:N,alt:"\u041f\u043e\u0438\u0441\u043a"}),Object(d.jsx)("input",{className:"searchForm__input",onChange:function(t){s(t.target.value),e.setFiltText(t.target.value)},value:a,type:"text",placeholder:"\u0424\u0438\u043b\u044c\u043c",required:!0}),Object(d.jsx)("button",{className:"searchForm__button",onClick:function(t){return function(t){t.preventDefault(),""===a?(s("\u041d\u0443\u0436\u043d\u043e \u0432\u0432\u0435\u0441\u0442\u0438 \u043a\u043b\u044e\u0447\u0435\u0432\u043e\u0435 \u0441\u043b\u043e\u0432\u043e"),e.setFiltText("\u041d\u0443\u0436\u043d\u043e \u0432\u0432\u0435\u0441\u0442\u0438 \u043a\u043b\u044e\u0447\u0435\u0432\u043e\u0435 \u0441\u043b\u043e\u0432\u043e")):e.searchMovies(t)}(t)},type:"submit"}),Object(d.jsx)("hr",{className:"searchForm__line"})]})};n(46);var C=function(e){return Object(d.jsxs)("label",{className:"filterCheckbox",children:[Object(d.jsx)("input",{onChange:e.handleClickFilterCheckbox,checked:e.filter,className:"filterCheckbox__input",type:"checkbox"}),Object(d.jsx)("span",{className:"filterCheckbox__slider"})]})};n(47);var S=function(e){return Object(d.jsxs)("div",{className:"search",children:[Object(d.jsx)(k,{setFiltText:e.setFiltText,searchMovies:e.handleClickSearch}),Object(d.jsx)("p",{className:"search__text",children:"\u041a\u043e\u0440\u043e\u0442\u043a\u043e\u043c\u0435\u0442\u0440\u0430\u0436\u043a\u0438"}),Object(d.jsx)(C,{filter:e.filter,handleClickFilterCheckbox:e.handleClickFilterCheckbox})]})};n(48);var y=function(e){return Object(d.jsx)("div",{className:!1===e.isOpen?"navigation_hidden":"navigation",children:Object(d.jsxs)("div",{className:"nav-links",children:[Object(d.jsx)("button",{type:"button",onClick:e.handleClickCloseNavTab,className:"nav-links__close-button"}),Object(d.jsx)(r.b,{className:"main"===e.status?"nav-links__link nav-links__link_actual":"nav-links__link",to:"/",children:"\u0413\u043b\u0430\u0432\u043d\u0430\u044f"}),Object(d.jsx)(r.b,{className:"movies"===e.status?"nav-links__link nav-links__link_actual":"nav-links__link",to:"/movies",children:"\u0424\u0438\u043b\u044c\u043c\u044b"}),Object(d.jsx)(r.b,{className:"saved-movies"===e.status?"nav-links__link nav-links__link_actual":"nav-links__link",to:"/saved-movies",children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0451\u043d\u043d\u044b\u0435 \u0444\u0438\u043b\u044c\u043c\u044b"}),Object(d.jsx)(r.b,{className:"nav-links__link nav-links_profile",to:"/profile",children:"\u0410\u043a\u043a\u0430\u0443\u043d\u0442"})]})})};n(49),n(50);var T=function(e){var t=i.a.useState(!1),n=Object(l.a)(t,2),a=n[0],s=n[1];return i.a.useEffect((function(){!0===e.isLiked&&s(!0)}),[e.isLiked]),Object(d.jsxs)("div",{className:"moviesCard",children:[Object(d.jsx)("a",{className:"moviesCard__link",href:e.trailerLink,children:Object(d.jsx)("img",{className:"moviesCard__video",src:e.link,alt:e.nameRU,poster:e.poster})}),Object(d.jsx)("p",{className:"moviesCard__name",children:e.nameRU}),Object(d.jsx)("button",{className:!0===e.buttonLike?!0===e.isLiked||!0===a?"moviesCard__like moviesCard__like_active":"moviesCard__like":"moviesCard__like_hidden",type:"button",onClick:function(){!1===a?(e.saveCard({movieId:e.movieId.toString(),nameRU:e.nameRU,nameEN:e.nameEN,director:e.director,thumbnail:e.link,country:e.country.toString(),year:e.year.toString(),duration:e.duration.toString(),description:e.description,trailer:e.trailerLink,image:e.link}),s(!0)):(e.daleteCard(e.movie),s(!1))},content:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"}),Object(d.jsx)("button",{className:!1===e.buttonLike?"moviesCard__delete":"moviesCard__delete_hidden",type:"button",onClick:function(){e.daleteCard(e.movie)}}),Object(d.jsx)("p",{id:"number",className:"moviesCard__duration",children:function(e){var t=Math.trunc(e/60),n=e%60;return 0===n?t+"\u0447":t+"\u0447 "+n+"\u043c"}(e.duration)})]})};var L=function(e){return Object(d.jsx)("div",{className:e.status,children:e.movies.slice(0,e.showMore<e.movies.length?e.showMore:e.movies.length).map((function(t){return Object(d.jsx)(T,{isLiked:t.isLiked,movie:t,daleteCard:e.daleteCard,description:t.description,year:t.year,country:t.country,director:t.director,movieId:t.id,saveCard:e.saveCard,trailerLink:t.trailer?t.trailer:t.trailerLink,link:t.image.url?"https://api.nomoreparties.co".concat(t.image.url):t.image,nameRU:t.nameRU,nameEN:t.nameEN,duration:t.duration,poster:t.poster,buttonLike:e.buttonLike},t.id||t._id)}))})},w=(n(51),function(e){return Object(d.jsx)("div",{className:e.status,children:Object(d.jsx)("div",{className:"preloader__container",children:Object(d.jsx)("span",{className:"preloader__round"})})})});n(52);var M=function(e){return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(y,{isOpen:e.isOpen,handleClickCloseNavTab:e.handleClickCloseNavTab,status:e.status}),Object(d.jsx)(b,{openNav:e.openNav,statusHeader:e.loggedIn}),Object(d.jsxs)("div",{className:"movies",children:[Object(d.jsx)(S,{setFiltText:e.setFiltText,filter:e.filter,handleClickSearch:e.initialCards,handleClickFilterCheckbox:e.handleClickFilterCheckbox}),Object(d.jsx)("hr",{className:"movies__line"}),Object(d.jsx)(w,{status:!0===e.statPreload?"preloader":"preloader__hidden"}),Object(d.jsx)("h2",{className:!0===e.statResult?"movies__resilt-title":"movies__resilt-title__hidden",children:e.message}),Object(d.jsx)(L,{daleteCard:e.handleClickDeleteMovie,saveCard:e.handleClickSaveMovie,showMore:e.showMore,status:!0===e.statMovies?"moviesCardList":"moviesCardList__hidden",buttonLike:!0,movies:e.savedCards}),Object(d.jsx)("button",{onClick:function(t){return e.handleClickShowMore(t)},className:!0===e.statButton?"movies__button":"movies__button__hidden",type:"button",children:"\u0415\u0449\u0451"}),Object(d.jsx)("span",{className:!1===e.statButton?"movies__saveddevider":"movies__saveddevider__hidden"})]}),Object(d.jsx)(g,{})]})};n(53);var R=function(e){return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(y,{isOpen:e.isOpen,handleClickCloseNavTab:e.handleClickCloseNavTab,status:e.status}),Object(d.jsx)(b,{statusHeader:e.loggedIn}),Object(d.jsxs)("div",{className:"savedMovies",children:[Object(d.jsx)(S,{setFiltText:e.setFiltText,filter:e.filter,handleClickSearch:e.searchSavedCards,handleClickFilterCheckbox:e.handleClickFilterCheckbox}),Object(d.jsx)("hr",{className:"savedMovies__line"}),Object(d.jsx)("h2",{className:!0===e.statResult?"savedMovies__resilt-title":"savedMovies__resilt-title__hidden",children:e.message}),Object(d.jsx)(L,{daleteCard:e.handleClickDeleteMovie,buttonLike:!1,showMore:e.showMore,status:!0===e.statMovies?"moviesCardList":"moviesCardList__hidden",movies:e.likedCards}),Object(d.jsx)("button",{className:"savedMovies__button savedMovies__button_hidden",type:"button",children:"\u0415\u0449\u0451"}),Object(d.jsx)("span",{className:"savedMovies__saveddevider"})]}),Object(d.jsx)(g,{})]})},F="http://localhost:3001",E=n(13),U=n(14),I=new(function(){function e(t){Object(E.a)(this,e),this._baseUrl=t.baseUrl,this._authorization=t.headers.authorization,this._contentType=t.headers["Content-Type"]}return Object(U.a)(e,[{key:"_getResponseData",value:function(e){return e.ok?e.json():Promise.reject("\u041e\u0448\u0438\u0431\u043a\u0430: ".concat(e.status))}},{key:"initialUsers",value:function(){var e=this;return fetch("".concat(this._baseUrl,"/users/me"),{credentials:"include",headers:{authorization:this._authorization}}).then((function(t){return e._getResponseData(t)}))}},{key:"initCardsFromServer",value:function(){var e=this;return fetch("".concat(this._baseUrl,"/movies"),{credentials:"include",headers:{authorization:this._authorization}}).then((function(t){return e._getResponseData(t)}))}},{key:"loadingUserInfoOnServer",value:function(e){var t=this,n=e.name,a=e.email;return fetch("".concat(this._baseUrl,"/users/me"),{method:"PATCH",credentials:"include",headers:{authorization:this._authorization,"Content-Type":this._contentType},body:JSON.stringify({name:n,email:a})}).then((function(e){return t._getResponseData(e)}))}},{key:"loadingNewCardOnServer",value:function(e){var t=this,n=e.movieId,a=e.nameRU,i=e.nameEN,s=e.director,c=e.thumbnail,r=e.country,o=e.year,l=e.duration,u=e.description,d=e.trailer,h=e.image;return fetch("".concat(this._baseUrl,"/movies"),{method:"POST",credentials:"include",headers:{authorization:this._authorization,"Content-Type":this._contentType},body:JSON.stringify({movieId:n,nameRU:a,nameEN:i,director:s,thumbnail:c,country:r,year:o,duration:l,description:u,trailer:d,image:h})}).then((function(e){return t._getResponseData(e)}))}},{key:"deleteCardFromServer",value:function(e){var t=this;return fetch("".concat(this._baseUrl,"/movies/").concat(e),{method:"DELETE",credentials:"include",headers:{authorization:this._authorization}}).then((function(e){return t._getResponseData(e)}))}}]),e}())({baseUrl:"http://localhost:3001",credentials:"include",headers:{"Content-Type":"application/json"}}),P=new(function(){function e(t){Object(E.a)(this,e),this._baseUrl=t.baseUrl,this._contentType=t.headers["Content-Type"]}return Object(U.a)(e,[{key:"_getResponseData",value:function(e){return e.ok?e.json():Promise.reject("\u041e\u0448\u0438\u0431\u043a\u0430: ".concat(e.status))}},{key:"initCardsFromServer",value:function(){var e=this;return fetch("".concat(this._baseUrl)).then((function(t){return e._getResponseData(t)}))}}]),e}())({baseUrl:"https://api.nomoreparties.co/beatfilm-movies",headers:{"Content-Type":"application/json"}}),D=(n(54),i.a.createContext());var z=function(e){var t=i.a.useContext(D),n=i.a.useState(t.name),a=Object(l.a)(n,2),s=a[0],c=a[1],o=i.a.useState(t.email),u=Object(l.a)(o,2),h=u[0],j=u[1],m=i.a.useState(!1),_=Object(l.a)(m,2),f=_[0],p=_[1],v=i.a.useState(!1),O=Object(l.a)(v,2),x=O[0],g=O[1],N=i.a.useState(""),k=Object(l.a)(N,2),C=k[0],S=k[1];return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(y,{handleClickCloseNavTab:e.handleClickCloseNavTab,status:e.status}),Object(d.jsx)(b,{statusHeader:e.loggedIn}),Object(d.jsxs)("form",{className:"profile",children:[Object(d.jsxs)("h2",{className:"profile__title",children:["\u041f\u0440\u0438\u0432\u0435\u0442, ",t.name,"!"]}),Object(d.jsx)("p",{className:"profile__text",children:"\u0418\u043c\u044f"}),Object(d.jsx)("p",{className:!0===e.isRedact?"profile__text_hidden":"profile__text",children:t.name}),Object(d.jsx)("input",{onChange:function(e){return function(e){c(e.target.value.replace(/[^\-a-zA-Z\u0430-\u044f\u0410-\u042f\u0401\u0451\s]/,"")),S(""===s?"\u0412\u0432\u0435\u0434\u0435\u043d\u044b \u043d\u0435\u043a\u043e\u0440\u0435\u043a\u0442\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435":""),p(""===s)}(e)},className:!1===e.isRedact?"profile__text_hidden":!1===f?"profile__text":"profile__text profile__text_error",id:"name-input",value:s,name:"user",type:"text",placeholder:"\u0418\u043c\u044f",required:!0,minLength:"2",maxLength:"40"}),Object(d.jsx)("hr",{className:"profile__line"}),Object(d.jsx)("p",{className:"profile__text",children:"E-mail"}),Object(d.jsx)("p",{className:!0===e.isRedact?"profile__text_hidden":"profile__text",children:t.email}),Object(d.jsx)("input",{onChange:function(e){return function(e){j(e.target.value),/\S+@\S+\.\S+/.test(h)?S(""):S("Email \u0432\u0432\u0435\u0434\u0435\u043d \u043d\u0435\u0432\u0435\u0440\u043d\u043e"),/\S+@\S+\.\S+/.test(h)?g(!1):g(!0)}(e)},className:!1===e.isRedact?"profile__text_hidden":!1===x?"profile__text":"profile__text profile__text_error",id:"email-input",value:h,name:"email",type:"E-mail",placeholder:"E-mail",required:!0,minLength:"2",maxLength:"50"}),Object(d.jsx)("button",{type:"button",className:!0===e.isRedact?"profile__redact_hidden":"profile__redact",onClick:function(){e.onRedactClick(),S(" ")},children:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c"}),Object(d.jsx)(r.b,{onClick:e.signOut,className:!0===e.isRedact?"profile__exit_hidden":"profile__exit",to:"/",children:"\u0412\u044b\u0439\u0442\u0438 \u0438\u0437 \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u0430"}),Object(d.jsx)("span",{className:!1===e.isRedact?"profile__error_hidden":"profile__error",children:C||e.statServer}),Object(d.jsx)("button",{onClick:function(n){return!1===f&&!1===x&&(s!==t.name||h!==t.email)&&s.length>1?function(t){t.preventDefault(),e.handleUpdateUser({name:s,email:h}),S("\u041e\u0442\u043f\u0440\u0430\u0432\u043a\u0430..."),setTimeout((function(){S("")}),2e3)}(n):n.preventDefault()},type:"submit",className:!1===e.isRedact?"profile__save_hidden":!1===f&&!1===x&&(s!==t.name||h!==t.email)&&s.length>1?"profile__save":"profile__save profile__save_unactive",children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})]})]})};n(55);var H=function(e){var t=i.a.useState(""),n=Object(l.a)(t,2),a=n[0],s=n[1],c=i.a.useState(""),o=Object(l.a)(c,2),u=o[0],h=o[1],j=i.a.useState(""),m=Object(l.a)(j,2),_=m[0],b=m[1],f=i.a.useState(!1),p=Object(l.a)(f,2),v=p[0],O=p[1],x=i.a.useState(!1),g=Object(l.a)(x,2),N=g[0],k=g[1];return Object(d.jsxs)("form",{id:"login",name:"login",className:"login",noValidate:!0,children:[Object(d.jsx)(r.b,{className:"login__logo",to:"/"}),Object(d.jsx)("h2",{className:"login__welcome",children:"\u0420\u0430\u0434\u044b \u0432\u0438\u0434\u0435\u0442\u044c!"}),Object(d.jsx)("p",{className:"login__title",children:"E-mail"}),Object(d.jsx)("input",{id:"login-input",value:a,onChange:function(e){s(e.target.value),/\S+@\S+\.\S+/.test(e.target.value)?b(""):b("Email \u0432\u0432\u0435\u0434\u0435\u043d \u043d\u0435\u0432\u0435\u0440\u043d\u043e"),/\S+@\S+\.\S+/.test(e.target.value)?O(!1):O(!0)},name:"email",type:"email",className:!1===v?"login__input":"login__input login__input_error",placeholder:"Email",required:!0,minLength:"2",maxLength:"40"}),Object(d.jsx)("p",{className:"login__title",children:"\u041f\u0430\u0440\u043e\u043b\u044c"}),Object(d.jsx)("input",{id:"password-input",value:u,onChange:function(e){h(e.target.value),u.length<7?b("\u0421\u043b\u0438\u0448\u043a\u043e\u043c \u043a\u043e\u0440\u043e\u0442\u043a\u0438\u0439 \u043f\u0430\u0440\u043e\u043b\u044c (\u043c\u0435\u043d\u044c\u0448\u0435 8 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432)"):b(""),u.length<7?k(!0):k(!1)},name:"password",type:"password",className:!1===N?"login__input":"login__input login__input_error",placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c",required:!0,minLength:"2",maxLength:"200"}),Object(d.jsx)("span",{className:"login__input-error",children:_||e.statServer}),Object(d.jsx)("button",{onClick:function(t){return!1===v&&!1===N&&""!==a&&""!==u&&u.length>7?function(t){t.preventDefault(),e.handleLogin(a,u),b("\u041e\u0442\u043f\u0440\u0430\u0432\u043a\u0430..."),setTimeout((function(){b("")}),2e3)}(t):t.preventDefault()},type:"submit",className:!1===v&&!1===N&&""!==a&&""!==u&&u.length>7?"login__button-login":"login__button-login login__button-login_unactive",children:"\u0412\u043e\u0439\u0442\u0438"}),Object(d.jsx)("p",{className:"login__text",children:"\u0415\u0449\u0451 \u043d\u0435 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u044b?"}),Object(d.jsx)(r.b,{className:"login__link",to:"/signup",children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"})]})};n(56);var J=function(e){var t=i.a.useState(""),n=Object(l.a)(t,2),a=n[0],s=n[1],c=i.a.useState(""),o=Object(l.a)(c,2),u=o[0],h=o[1],j=i.a.useState(""),m=Object(l.a)(j,2),_=m[0],b=m[1],f=i.a.useState(""),p=Object(l.a)(f,2),v=p[0],O=p[1],x=i.a.useState(!1),g=Object(l.a)(x,2),N=g[0],k=g[1],C=i.a.useState(!1),S=Object(l.a)(C,2),y=S[0],T=S[1],L=i.a.useState(!1),w=Object(l.a)(L,2),M=w[0],R=w[1];return Object(d.jsxs)("form",{id:"auth",name:"auth",className:"register",noValidate:!0,children:[Object(d.jsx)(r.b,{className:"register__logo",to:"/"}),Object(d.jsx)("h2",{className:"register__welcome",children:"\u0414\u043e\u0431\u0440\u043e \u043f\u043e\u0436\u0430\u043b\u043e\u0432\u0430\u0442\u044c!"}),Object(d.jsx)("p",{className:"register__title",children:"\u0418\u043c\u044f"}),Object(d.jsx)("input",{id:"name-input",value:a,onChange:function(e){return function(e){s(e.target.value.replace(/[^\-a-zA-Z\u0430-\u044f\u0410-\u042f\u0401\u0451\s]/,"")),O(""===a?"\u0412\u0432\u0435\u0434\u0435\u043d\u044b \u043d\u0435\u043a\u043e\u0440\u0435\u043a\u0442\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435":""),k(""===a)}(e)},name:"name",type:"text",className:!1===N?"register__input":"register__input register__input_error",placeholder:"\u0418\u043c\u044f",required:!0,minLength:"2",maxLength:"40"}),Object(d.jsx)("p",{className:"register__title",children:"E-mail"}),Object(d.jsx)("input",{id:"login-input",value:u,onChange:function(e){return function(e){h(e.target.value),/\S+@\S+\.\S+/.test(e.target.value)?O(""):O("Email \u0432\u0432\u0435\u0434\u0435\u043d \u043d\u0435\u0432\u0435\u0440\u043d\u043e"),/\S+@\S+\.\S+/.test(e.target.value)?T(!1):T(!0)}(e)},name:"email",type:"email",className:!1===y?"register__input":"register__input register__input_error",placeholder:"Email",required:!0,minLength:"2",maxLength:"40"}),Object(d.jsx)("p",{className:"register__title",children:"\u041f\u0430\u0440\u043e\u043b\u044c"}),Object(d.jsx)("input",{id:"password-input",value:_,onChange:function(e){return function(e){b(e.target.value),_.length<7?O("\u0421\u043b\u0438\u0448\u043a\u043e\u043c \u043a\u043e\u0440\u043e\u0442\u043a\u0438\u0439 \u043f\u0430\u0440\u043e\u043b\u044c, (\u043c\u0435\u043d\u044c\u0448\u0435 8 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432)"):O(""),_.length<7?R(!0):R(!1)}(e)},name:"password",type:"password",className:!1===M&&_.length>7?"register__input":"register__input register__input_error",placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c",required:!0,minLength:"2",maxLength:"40"}),Object(d.jsx)("span",{className:"register__input-error",children:v||e.statServer}),Object(d.jsx)("button",{onClick:function(t){return!1===N&&!1===y&&!1===M&&""!==a&&""!==u&&""!==_&&_.length>7?function(t){t.preventDefault(),e.handleRegister(a,u,_),O("\u041e\u0442\u043f\u0440\u0430\u0432\u043a\u0430..."),setTimeout((function(){O("\u041e\u0448\u0438\u0431\u043a\u0430 \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0438, \u043f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0434\u0440\u0443\u0433\u043e\u0439 Email"),setTimeout((function(){O("")}),2e3)}),2e3)}(t):t.preventDefault()},type:"submit",className:!1===N&&!1===y&&!1===M&&""!==a&&""!==u&&""!==_&&_.length>7?"register__button-login":"register__button-login register__button-login_unactive",children:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"}),Object(d.jsx)("p",{className:"register__text",children:"\u0423\u0436\u0435 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043b\u0438\u0441\u044c?"}),Object(d.jsx)(r.b,{className:"register__link",to:"/signin",children:" \u0412\u043e\u0439\u0442\u0438"})]})};n(57);var q=function(){return Object(d.jsxs)("div",{className:"not-found",children:[Object(d.jsx)("h2",{className:"not-found__title",children:"404"}),Object(d.jsx)("p",{className:"not-found__text",children:"\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u0430"}),Object(d.jsx)(r.b,{className:"not-found__link",to:"/",children:"\u041d\u0430\u0437\u0430\u0434"})]})},A=n(4),B=n(23),V=n(24),W=["component"],G=function(e){var t=e.component,n=Object(V.a)(e,W);return Object(d.jsx)(A.b,{children:function(){return n.loggedIn?Object(d.jsx)(t,Object(B.a)({},n)):Object(d.jsx)(A.a,{to:"/"})}})};var Z=function(){var e=i.a.useState({}),t=Object(l.a)(e,2),n=t[0],a=t[1],s=i.a.useState([]),c=Object(l.a)(s,2),r=c[0],u=c[1],h=i.a.useState([]),j=Object(l.a)(h,2),m=j[0],_=j[1],b=i.a.useState(" "),f=Object(l.a)(b,2),p=f[0],v=f[1],O=i.a.useState(""),N=Object(l.a)(O,2),k=N[0],C=N[1],S=i.a.useState(""),T=Object(l.a)(S,2),L=T[0],w=T[1],E=i.a.useState(""),U=Object(l.a)(E,2),B=U[0],V=U[1],W=i.a.useState(3),Z=Object(l.a)(W,2),K=Z[0],Q=Z[1],X=i.a.useState(12),Y=Object(l.a)(X,2),$=Y[0],ee=Y[1],te=i.a.useState(!1),ne=Object(l.a)(te,2),ae=ne[0],ie=ne[1],se=i.a.useState(!1),ce=Object(l.a)(se,2),re=ce[0],oe=ce[1],le=i.a.useState(!1),ue=Object(l.a)(le,2),de=ue[0],he=ue[1],je=i.a.useState(!1),me=Object(l.a)(je,2),_e=me[0],be=me[1],fe=i.a.useState(!1),pe=Object(l.a)(fe,2),ve=pe[0],Oe=pe[1],xe=i.a.useState(!1),ge=Object(l.a)(xe,2),Ne=ge[0],ke=ge[1],Ce=i.a.useState(!1),Se=Object(l.a)(Ce,2),ye=Se[0],Te=Se[1],Le=i.a.useState(!1),we=Object(l.a)(Le,2),Me=we[0],Re=we[1],Fe=i.a.useState(!1),Ee=Object(l.a)(Fe,2),Ue=Ee[0],Ie=Ee[1],Pe=Object(A.g)();i.a.useEffect((function(){ze()}),[]),i.a.useEffect((function(){if(de){P.initCardsFromServer().then((function(e){localStorage.setItem("cards",JSON.stringify(Object(o.a)(e)))})).catch((function(e){v("\u0412\u043e \u0432\u0440\u0435\u043c\u044f \u043e\u0431\u0440\u0430\u0449\u0435\u043d\u0438\u044f \u043a \u0441\u0435\u0440\u0432\u0435\u0440\u0443 \u043f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430. \u0412\u043e\u0437\u043c\u043e\u0436\u043d\u043e, \u043f\u0440\u043e\u0431\u043b\u0435\u043c\u0430 \u0441 \u0441\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u0435\u043c \u0438\u043b\u0438 \u0441\u0435\u0440\u0432\u0435\u0440 \u043d\u0435\u0434\u043e\u0441\u0442\u0443\u043f\u0435\u043d. \u041f\u043e\u0434\u043e\u0436\u0434\u0438\u0442\u0435 \u043d\u0435\u043c\u043d\u043e\u0433\u043e \u0438 \u043f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u043e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u0435\u0449\u0451 \u0440\u0430\u0437"),console.log(e)})),I.initialUsers().then((function(e){a(e.data)})).catch((function(e){console.log(e)}))}}),[de]),i.a.useEffect((function(){window.addEventListener("resize",(function(e){ze()}),!1),r.length>0?Oe(!0):Oe(!1),r.length>=$?ke(!0):ke(!1)}),[$,r]),i.a.useEffect((function(){var e=new RegExp("".concat(k),"i");I.initCardsFromServer().then((function(e){"undefined"!==typeof n._id&&localStorage.setItem("likeCards",JSON.stringify(Object(o.a)(e.data.filter((function(e){return e.owner===n._id})))))})).then((function(){return _(function(){var t;return be(!1),!1===ae?!1===Me?t=Ae():(t=Ae().filter((function(t){return e.test(t.nameRU)}))).length<1?(Oe(!1),ke(!1),be(!0),v("\u041d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e"),t):(Oe(!0),be(!1),ke(!1),t):!1===Me?t=Ae().filter((function(e){return e.duration<40})):(t=Ae().filter((function(e){return e.duration<40})).filter((function(t){return e.test(t.nameRU)}))).length<1?(Oe(!1),be(!0),v("\u041d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e"),ke(!1),t):(be(!1),Oe(!0),ke(!1),t)}())})).catch((function(e){console.log(e)}))}),[ae,Me,n]),i.a.useEffect((function(){!function(){var e,t=localStorage.getItem("jwt");t&&(e=t,fetch("".concat(F,"/users/me"),{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(e)}}).then((function(e){return e.json()}))).then((function(e){e&&he(!0)})).catch((function(e){console.log(e)}))}()}),[]);var De=i.a.useCallback((function(e){be(!1);var t=new RegExp("".concat(e),"i");return!1===ae?qe().filter((function(e){return t.test(e.nameRU)})):qe().filter((function(e){return e.duration<40})).filter((function(e){return t.test(e.nameRU)}))}),[ae]);i.a.useEffect((function(){var e=De(k).map((function(e){return Ae().find((function(t){return t.movieId===e.id.toString()}))?(e.isLiked=!0,e):e}));u(e)}),[ae,De]);var ze=function(){var e=window.innerWidth;e>=1280?(ee(12),Q(3)):e>=768&&e<1280?(ee(8),Q(2)):e>=320&&e<768&&(ee(5),Q(5))},He=function(){oe(!1)},Je=function(){ie(!1===ae)};function qe(){var e=localStorage.getItem("cards");return null!==e?JSON.parse(e):[]}function Ae(){var e=localStorage.getItem("likeCards");return null!==e?JSON.parse(e):[]}function Be(e,t){(function(e,t){return fetch("".concat(F,"/signin"),{method:"POST",credentials:"include",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({email:e,password:t})}).then((function(e){return e.json()})).then((function(e){return e.token?(localStorage.setItem("jwt",e.token),e):void 0})).catch((function(e){return console.log(e)}))})(e,t).then((function(e){e.token&&(he(!0),w(""),setTimeout((function(){Pe.push("/movies")}),1e3))})).catch((function(e){w("\u041e\u0448\u0438\u0431\u043a\u0430 \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0438 \u0434\u0430\u043d\u043d\u044b\u0445 \u043d\u0430 \u0441\u0435\u0440\u0432\u0435\u0440"),setTimeout((function(){w("")}),5e3),console.log(e)}))}return Object(d.jsx)(D.Provider,{value:n,children:Object(d.jsx)("div",{className:"App",children:Object(d.jsxs)(A.d,{children:[Object(d.jsxs)(A.b,{exact:!0,path:"/",children:[Object(d.jsx)(y,{isOpen:re,handleClickCloseNavTab:He,status:"main"}),Object(d.jsx)(x,{statusHeader:de}),Object(d.jsx)(g,{})]}),Object(d.jsx)(A.b,{path:"/signup",children:Object(d.jsx)(J,{statServer:L,handleRegister:function(e,t,n){(function(e,t,n){return fetch("".concat(F,"/signup"),{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:e,email:t,password:n})}).then((function(e){try{if(200===e.status)return e.json()}catch(t){return t}})).catch((function(e){return console.log(e)}))})(e,t,n).then((function(e){e&&Be(t,n)})).catch((function(e){w(e.message),console.log(e.message)}))}})}),Object(d.jsx)(A.b,{path:"/signin",children:Object(d.jsx)(H,{statServer:L,handleLogin:Be})}),Object(d.jsx)(G,{path:"/movies",status:"movies",filter:ae,isOpen:re,message:p,loggedIn:de,showMore:$,statButton:Ne,statResult:_e,savedCards:r,statMovies:ve,statPreload:ye,openNav:function(){oe(!0)},component:M,setFiltText:C,initialCards:function(){var e=new RegExp("".concat(k),"i"),t=De(k).filter((function(t){return e.test(t.nameRU)})).map((function(e){return Ae().find((function(t){return t.movieId===e.id.toString()}))?(e.isLiked=!0,e):e}));Re(!1),Te(!0),Oe(!1),ke(!1),setTimeout((function(){t.length<1?(be(!0),v("\u041d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e")):(be(!1),u(t)),Te(!1)}),2e3)},handleClickCloseNavTab:He,handleClickShowMore:function(e){e.preventDefault(),ee($+K)},handleClickSaveMovie:function(e){I.loadingNewCardOnServer(e).then((function(e){e.isLiked=!0,_([].concat(Object(o.a)(m),[e]));var t=r.map((function(t){return e.movieId===t.id.toString()?(t.isLiked=!0,t):t}));u(t)})).catch((function(e){console.log(e)}))},handleClickDeleteMovie:function(e){var t=m.filter((function(t){return t.movieId===e.id.toString()}));I.deleteCardFromServer(t[0]._id).then((function(){_((function(e){return e.filter((function(e){return e.movieId!==t[0].movieId}))}));var n=r.map((function(t){return e.id.toString()===t.id.toString()?(t.isLiked=!1,t):t}));u(n)})).catch((function(e){console.log(e)}))},handleClickFilterCheckbox:Je}),Object(d.jsx)(G,{path:"/saved-movies",status:"saved-movies",filter:ae,message:p,loggedIn:de,statResult:_e,statMovies:ve,likedCards:m,component:R,setFiltText:C,handleClickCloseNavTab:He,searchSavedCards:function(e){e.preventDefault(),Re(!0)},handleClickDeleteMovie:function(e){var t=m.filter((function(t){return t._id===e._id.toString()}));I.deleteCardFromServer(t[0]._id).then((function(){_((function(e){return e.filter((function(e){return e._id!==t[0]._id}))}));var n=r.map((function(t){return e.movieId===t.id.toString()?(t.isLiked=!1,t):t}));u(n)})).catch((function(e){console.log(e)}))},handleClickFilterCheckbox:Je}),Object(d.jsx)(G,{path:"/profile",status:"profile",loggedIn:de,isRedact:Ue,statServer:B,signOut:function(){localStorage.removeItem("jwt"),localStorage.removeItem("likeCards"),localStorage.removeItem("cards"),u([]),_([]),he(!1)},component:z,onRedactClick:function(){Ie(!0)},handleClickCloseNavTab:He,handleUpdateUser:function(e){I.loadingUserInfoOnServer({name:e.name,email:e.email}).then((function(e){e.data&&(a(e.data),V("\u0414\u0430\u043d\u043d\u044b\u0435 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u044b!"),setTimeout((function(){Ie(!1),V("")}),4e3))})).catch((function(e){V("\u041e\u0448\u0438\u0431\u043a\u0430 \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0438 \u0434\u0430\u043d\u043d\u044b\u0445 (\u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e \u044d\u0442\u043e\u0442 Email \u0443\u0436\u0435 \u0437\u0430\u043d\u044f\u0442!"),console.log(e)}))}}),Object(d.jsx)(A.b,{path:"*",children:Object(d.jsx)(q,{})})]})})})};n(58);c.a.render(Object(d.jsx)(i.a.StrictMode,{children:Object(d.jsx)(r.a,{children:Object(d.jsx)(Z,{})})}),document.getElementById("root"))}]),[[59,1,2]]]);
//# sourceMappingURL=main.1c219f91.chunk.js.map