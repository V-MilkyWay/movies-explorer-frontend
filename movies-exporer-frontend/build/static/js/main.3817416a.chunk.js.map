{"version":3,"sources":["images/header-logo.svg","components/HeaderPromo/HeaderPromo.js","components/Promo/Promo.js","components/PromoNavTab/PromoNavTab.js","components/AboutProject/AboutProject.js","components/Techs/Techs.js","images/avatar.svg","components/AboutMe/AboutMe.js","components/Portfolio/Portfolio.js","components/Main/Main.js","components/Footer/Footer.js","images/search-icon.svg","components/SearchForm/SearchForm.js","components/FilterCheckbox/FilterCheckbox.js","components/Search/Search.js","components/Header/Header.js","components/Navigation/Navigation.js","components/MoviesCard/MoviesCard.js","components/MoviesCardList/MoviesCardList.js","components/Preloader/Preloader.js","components/Movies/Movies.js","components/SavedMovies/SavedMovies.js","utils/auth.js","utils/MainApi.js","utils/MoviesApi.js","context/CurrentUserContext.js","components/Profile/Profile.js","images/logo-auth.svg","components/Login/Login.js","components/Register/Register.js","components/PageNotFound/PageNotFound.js","components/ProtectedRoute/ProtectedRoute.js","components/App/App.js","index.js"],"names":["HeaderPromo","className","src","logoMain","alt","to","Promo","PromoNavTab","href","AboutProject","id","Techs","AboutMe","avatar","Portfolio","Main","Footer","SearchForm","props","React","useState","input","setValue","icon","onChange","e","target","value","setFiltText","type","placeholder","required","onClick","preventDefault","searchMovies","handleClickButtonSearch","FilterCheckbox","handleClickFilterCheckbox","checked","filter","Search","handleClickSearch","Header","openNav","Navigation","isOpen","handleClickCloseNavTab","status","MoviesCard","like","setLike","useEffect","movieId","trailerLink","link","nameRU","poster","buttonLike","saveCard","toString","nameEN","director","thumbnail","country","year","duration","description","trailer","image","daleteCard","movie","content","mins","hours","Math","trunc","minutes","getTimeFromMins","MoviesCardList","movies","slice","showMore","length","map","isLiked","url","_id","Preloader","Movies","initialCards","statPreload","statResult","message","handleClickDeleteMovie","handleClickSaveMovie","statMovies","savedCards","handleClickShowMore","statButton","SavedMovies","searchSavedCards","likedCards","BASE_URL","api","options","this","_baseUrl","baseUrl","_authorization","headers","authorization","_contentType","res","ok","json","Promise","reject","fetch","credentials","then","_getResponseData","name","email","method","body","JSON","stringify","cardId","moviesApi","CurrentUserContext","createContext","Profile","currentUser","useContext","setName","setEmail","errStatName","setErrStatName","errStatEmail","setErrStatEmail","errMessage","setErrMessage","isRedact","replace","onChangeTagInputName","minLength","maxLength","test","onChangeTagInputEmail","onRedactClick","signOut","statServer","handleUpdateUser","setTimeout","handleClickUpdateUser","Login","password","setPassword","errStatPassword","setErrStatPassword","noValidate","logo","handleLogin","handleLoginClick","Register","onChangeTagInputPass","handleRegister","handleRegisterClick","PageNotFound","ProtectedRoute","Component","component","loggedIn","App","setCurrentUser","setSavedCards","setLikedCards","setMessage","filtText","setStatServer","statErrProfile","setErrProfile","numPlus","setNumPlus","setShowMore","numCards","setNumCards","filterSearch","setFilterSearch","setFilter","setStatus","setLoggedIn","setStatResult","setStatMovies","setStatButton","setStatPreload","loadedMovies","setLoadedMovies","redactProfile","setRedactProfile","deleted","setDeleted","history","useHistory","num","updateSavedCardList","useCallback","getLocalStorage","card","getLocalStorageLikedCards","find","adaptivContent","window","addEventListener","event","regular","RegExp","initCardsFromServer","result","localStorage","setItem","data","filteredLikedCards","c","filterLikedMuvies","catch","err","console","log","initialUsers","token","jwt","getItem","push","tokenCheck","width","innerWidth","closeNav","parse","Provider","exact","path","response","Auth","loadingNewCardOnServer","newCard","deleteCard","deleteCardFromServer","state","removeItem","loadingUserInfoOnServer","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.3817416a.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/header-logo.4410338f.svg\";","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport logoMain from '../../images/header-logo.svg';\nimport './HeaderPromo.css';\n\nfunction HeaderPromo() {\n    return (\n        <div className=\"headerPromo\">\n            <img className=\"headerPromo__logo\" src={logoMain} alt=\"Promo-logo\" />\n            <Link className=\"headerPromo__link-signup\" to=\"/signup\">\n                Регистрация\n            </Link>\n            <Link className=\"headerPromo__link-signin\" to=\"/signin\">Войти</Link>\n        </div>\n    )\n}\n\nexport default HeaderPromo;","import React from 'react';\nimport './Promo.css';\n\nfunction Promo () {\n  return (\n    <div className=\"promo\">\n        <h1 className='promo__title'>Учебный проект студента факультета Веб-разработки.</h1>\n        <div className='promo__logo'></div>\n    </div>\n  )\n}\n\nexport default Promo; ","import React from 'react';\nimport './PromoNavTab.css';\n\nfunction PromoNavTab() {\n    return (\n        <div className=\"promoNavTab\">\n            <a className=\"promoNavTab__link\" href=\"#project\">\n                О проекте\n            </a>\n            <a className=\"promoNavTab__link\" href=\"#techs\">\n                Технологии\n            </a>\n            <a className=\"promoNavTab__link\" href=\"#student\">\n                Студент\n            </a>\n        </div>\n    )\n}\n\nexport default PromoNavTab;","import React from 'react';\nimport './AboutProject.css';\n\nfunction AboutProject() {\n    return (\n        <div id=\"project\" className=\"aboutProject\">\n            <h2 className=\"aboutProject__title\">О проекте</h2>\n            <h3 className=\"aboutProject__heading\">На выполнение диплома ушло 5 недель</h3>\n            <p className=\"aboutProject__text\">У каждого этапа был мягкий и жёсткий дедлайн, которые нужно было соблюдать, чтобы успешно защититься.</p>\n            <h3 className=\"aboutProject__heading\">Дипломный проект включал 5 этапов</h3>\n            <p className=\"aboutProject__text\">Составление плана, работу над бэкендом, вёрстку, добавление функциональности и финальные доработки.</p>\n            <p className=\"aboutProject__progress-bar\">1 неделя</p>\n            <p className=\"aboutProject__progress-bar\">4 недели</p>\n            <p className=\"aboutProject__progress-title\">Back-end</p>\n            <p className=\"aboutProject__progress-title\">Front-end</p>\n        </div>\n    )\n}\n\nexport default AboutProject;","import React from 'react';\nimport './Techs.css';\n\nfunction Techs() {\n    return (\n        <div id=\"techs\" className=\"techs\">\n            <h2 className=\"techs__title\">Технологии</h2>\n            <h3 className=\"techs__heading\">7 технологий</h3>\n            <p className=\"techs__text\">На курсе веб-разработки мы освоили технологии, которые применили в дипломном проекте.</p>\n            <p className=\"techs__name\">HTML</p>\n            <p className=\"techs__name\">CSS</p>\n            <p className=\"techs__name\">JS</p>\n            <p className=\"techs__name\">React</p>\n            <p className=\"techs__name\">Git</p>\n            <p className=\"techs__name\">Express.js</p>\n            <p className=\"techs__name\">mongoDB</p>\n        </div>\n    )\n}\n\nexport default Techs;","export default __webpack_public_path__ + \"static/media/avatar.0d3b1247.svg\";","import React from 'react';\nimport './AboutMe.css';\nimport avatar from '../../images/avatar.svg'\n\nfunction AboutMe() {\n    return (\n        <div id=\"student\" className=\"aboutMe\">\n            <h2 className=\"aboutMe__title\">Студент</h2>\n            <p className=\"aboutMe__name\">Владислав</p>\n            <p className=\"aboutMe__info\">Фронтенд-разработчик, 25 лет</p>\n            <p className=\"aboutMe__text\">Я живу в Санкт-Петербурге, закончил факультет экономики СГУ. Люблю слушать музыку, читать книги, а ещё увлекаюсь плаванием. Недавно начал кодить. С 2015 года работал в компании «ОАО Сохо». После того, как прошёл курс по веб-разработке, начал заниматься фриланс-заказами и ушёл с постоянной работы.</p>\n            <a className=\"aboutMe__link\" href=\"https://www.facebook.com/\">Facebook</a>\n            <a className=\"aboutMe__link\" href=\"https://github.com/V-MilkyWay\">Github</a>\n            <img className=\"aboutMe__avatar\" src={avatar} alt='Аватарка' />\n        </div>\n    )\n}\n\nexport default AboutMe;","import React from 'react';\nimport './Portfolio.css';\n\nfunction Portfolio() {\n    return (\n        <div className=\"portfolio\">\n            <h2 className=\"portfolio__title\">Портфолио</h2>\n            <p className=\"portfolio__text\">Статичный сайт</p>\n            <a className=\"portfolio__link\" href=\"https://github.com/V-MilkyWay/how-to-learn\">↗</a>\n            <p className=\"portfolio__text\">Адаптивный сайт</p>\n            <a className=\"portfolio__link\" href=\"https://github.com/V-MilkyWay/russian-travel\">↗</a>\n            <p className=\"portfolio__text\">Одностраничное приложение</p>\n            <a className=\"portfolio__link\" href=\"https://github.com/V-MilkyWay/react-mesto-api-full\">↗</a>\n        </div>\n    )\n}\n\nexport default Portfolio;","import React from 'react';\nimport HeaderPromo from '../HeaderPromo/HeaderPromo.js';\nimport Promo from '../Promo/Promo.js';\nimport PromoNavTab from '../PromoNavTab/PromoNavTab.js';\nimport AboutProject from '../AboutProject/AboutProject.js';\nimport Techs from '../Techs/Techs.js';\nimport AboutMe from '../AboutMe/AboutMe.js';\nimport Portfolio from '../Portfolio/Portfolio.js';\nimport './Main.css';\n\nfunction Main() {\n    return (\n        <div className=\"main\">\n            <HeaderPromo />\n            <Promo />\n            <PromoNavTab />\n            <AboutProject />\n            <Techs />\n            <AboutMe />\n            <Portfolio />\n        </div>\n    )\n}\n\nexport default Main;","import React from 'react';\nimport './Footer.css';\n\nfunction Footer() {\n    return (\n        <div className=\"footer\">\n            <h3 className=\"footer__title\">Учебный проект Яндекс.Практикум х BeatFilm.</h3>\n            <p className=\"footer__copyrigh\">© 2020</p>\n            <a className=\"footer__link\" href=\"https://practicum.yandex.ru\">Яндекс.Практикум</a>\n            <a className=\"footer__link\" href=\"https://github.com\">Github</a>\n            <a className=\"footer__link\" href=\"https://www.facebook.com\">Facebook</a>\n        </div>\n    )\n}\n\nexport default Footer;","export default __webpack_public_path__ + \"static/media/search-icon.9d65490b.svg\";","import React from 'react';\r\nimport './SearchForm.css';\r\nimport icon from '../../images/search-icon.svg';\r\n\r\nfunction SearchForm(props) {\r\n    \r\n    const [input, setValue] = React.useState(\"\");\r\n\r\n    function handleChangeSearchForm(e) {\r\n        setValue(e.target.value);\r\n        props.setFiltText(e.target.value)\r\n    }\r\n\r\n    function handleClickButtonSearch(e) {\r\n        e.preventDefault();\r\n        if (input === '') {\r\n            setValue('Нужно ввести ключевое слово')\r\n            props.setFiltText('Нужно ввести ключевое слово')\r\n        } else {\r\n            props.searchMovies(e);\r\n        };\r\n    }\r\n\r\n    return (\r\n        <form className=\"searchForm\">\r\n            <img className=\"searchForm__icon\" src={icon} alt=\"Поиск\" />\r\n            <input className=\"searchForm__input\" onChange={handleChangeSearchForm} value={input} type=\"text\" placeholder=\"Фильм\" required />\r\n            <button className=\"searchForm__button\" onClick={(e) => handleClickButtonSearch(e)} type=\"submit\"></button>\r\n            <hr className=\"searchForm__line\"></hr>\r\n        </form>\r\n    )\r\n}\r\n\r\nexport default SearchForm;","import React from 'react';\r\nimport './FilterCheckbox.css';\r\n\r\n\r\nfunction FilterCheckbox(props) {\r\n    return (\r\n        <label className=\"filterCheckbox\">\r\n                <input onChange={props.handleClickFilterCheckbox} checked={props.filter} className=\"filterCheckbox__input\" type=\"checkbox\" />\r\n                <span className=\"filterCheckbox__slider\"></span>\r\n        </label>\r\n    )\r\n}\r\n\r\nexport default FilterCheckbox;","import React from 'react';\r\nimport SearchForm from '../SearchForm/SearchForm';\r\nimport FilterCheckbox from '../FilterCheckbox/FilterCheckbox';\r\nimport './Search.css';\r\n\r\nfunction Search(props) {\r\n    return (\r\n        <div className=\"search\">\r\n            <SearchForm setFiltText={props.setFiltText} searchMovies={props.handleClickSearch} />\r\n            <p className=\"search__text\">Короткометражки</p>\r\n            <FilterCheckbox filter={props.filter} handleClickFilterCheckbox={props.handleClickFilterCheckbox} />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Search;","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport './Header.css';\r\n\r\nfunction Header(props) {\r\n\r\n    return (\r\n        <div className=\"header\">\r\n            <Link className=\"header__logo\" to=\"/\"></Link>\r\n            <Link className=\"header__link\" to=\"/movies\">\r\n                Фильмы\r\n            </Link>\r\n            <Link className=\"header__link\" to=\"/saved-movies\">\r\n                Сохранённые фильмы\r\n            </Link>\r\n            <Link className=\"header__link header__link_profile\" to=\"/profile\">\r\n                Аккаунт\r\n            </Link>\r\n            <button type=\"button\" onClick={props.openNav} className=\"header__button\"></button>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Header;","import React from 'react';\r\nimport './Navigation.css';\r\nimport { Link } from 'react-router-dom';\r\n\r\nfunction Navigation(props) {\r\n\r\n    return (\r\n        <div className={props.isOpen === false ? \"navigation_hidden\" : \"navigation\"}>\r\n            <div className=\"nav-links\">\r\n                <button type=\"button\" onClick={props.handleClickCloseNavTab} className=\"nav-links__close-button\"></button>\r\n                <Link className={props.status === 'main' ? \"nav-links__link nav-links__link_actual\" : \"nav-links__link\"} to=\"/\">\r\n                    Главная\r\n                </Link>\r\n                <Link className={props.status === 'movies' ? \"nav-links__link nav-links__link_actual\" : \"nav-links__link\"} to=\"/movies\">\r\n                    Фильмы\r\n                </Link>\r\n                <Link className={props.status === 'saved-movies' ? \"nav-links__link nav-links__link_actual\" : \"nav-links__link\"} to=\"/saved-movies\">\r\n                    Сохранённые фильмы\r\n                </Link>\r\n                <Link className=\"nav-links__link nav-links_profile\" to=\"/profile\">\r\n                    Аккаунт\r\n                </Link>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Navigation;","import React from 'react';\r\nimport './MoviesCard.css';\r\n\r\nfunction MoviesCard(props) {\r\n\r\n    const [like, setLike] = React.useState(false);\r\n\r\n    React.useEffect(() => {\r\n        (typeof props.movieId === \"undefined\")? setLike(true) : setLike(false)\r\n      }, [ props.movieId]);\r\n\r\n    function handleClickLike() {\r\n        if (like === false) {\r\n            props.saveCard({\r\n                movieId: props.movieId.toString(),\r\n                nameRU: props.nameRU,\r\n                nameEN: props.nameEN,\r\n                director: props.director,\r\n                thumbnail: props.link,\r\n                country: props.country.toString(),\r\n                year: props.year.toString(),\r\n                duration: props.duration.toString(),\r\n                description: props.description,\r\n                trailer: props.trailerLink,\r\n                image: props.link})\r\n            setLike(true)\r\n        } else {\r\n            props.daleteCard(props.movie)\r\n            setLike(false)\r\n        };\r\n    }\r\n    function handleClickDelete(){\r\n        props.daleteCard(props.movie);\r\n        setLike(false);\r\n    }\r\n\r\n    function getTimeFromMins(mins) {\r\n        let hours = Math.trunc(mins/60);\r\n        let minutes = mins % 60;\r\n        if(minutes === 0) {\r\n            return hours + 'ч';\r\n        } else {\r\n            return hours + 'ч ' + minutes + 'м';\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"moviesCard\">\r\n            <a className=\"moviesCard__link\" href={props.trailerLink}>\r\n                <img className=\"moviesCard__video\" src={props.link} alt={props.nameRU} poster={props.poster} />\r\n            </a>\r\n            <p className=\"moviesCard__name\">{props.nameRU}</p>\r\n            <button className={props.buttonLike === true ? ((typeof props.movieId === \"undefined\")? 'moviesCard__like moviesCard__like_active' : ((like === true )? 'moviesCard__like moviesCard__like_active' : 'moviesCard__like')) : 'moviesCard__like_hidden'} type=\"button\" onClick={handleClickLike} content='Сохранить'></button>\r\n            <button className={props.buttonLike === false ? \"moviesCard__delete\" : \"moviesCard__delete_hidden\"} type=\"button\" onClick={handleClickDelete}></button>\r\n            <p id=\"number\" className=\"moviesCard__duration\">{getTimeFromMins(props.duration)}</p>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default MoviesCard;","import React from 'react';\r\nimport './MoviesCardList.css';\r\nimport MoviesCard from '../MoviesCard/MoviesCard';\r\n\r\n\r\nfunction MoviesCardList(props) {\r\n    return (\r\n        <div className={props.status}>\r\n            {props.movies.slice(0, (props.showMore < props.movies.length) ? props.showMore : props.movies.length).map((movie) => (\r\n                <MoviesCard isLiked={movie.isLiked} movie={movie} daleteCard={props.daleteCard} description={movie.description}  year={movie.year} country={movie.country} director={movie.director} movieId={movie.id} saveCard={props.saveCard} key={movie.id || movie._id } trailerLink={movie.trailer? movie.trailer : movie.trailerLink} link={movie.image.url? `https://api.nomoreparties.co${movie.image.url}`: movie.image} nameRU={movie.nameRU} nameEN={movie.nameEN} duration={movie.duration} poster={movie.poster} buttonLike={props.buttonLike} />\r\n            ))}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default MoviesCardList;","import React from 'react'\nimport './Preloader.css'\n\nconst Preloader = (props) => {\n    return (\n        <div className={props.status}>\n            <div className=\"preloader__container\">\n                <span className=\"preloader__round\"></span>\n            </div>\n        </div>\n    )\n};\n\nexport default Preloader\n","import React from 'react';\r\nimport Search from '../Search/Search';\r\nimport Header from '../Header/Header';\r\nimport Navigation from '../Navigation/Navigation';\r\nimport MoviesCardList from '../MoviesCardList/MoviesCardList';\r\nimport Preloader from '../Preloader/Preloader';\r\nimport Footer from '../Footer/Footer';\r\nimport './Movies.css';\r\n\r\nfunction Movies(props) {\r\n\r\n    return (\r\n        <>\r\n        <Navigation isOpen={props.isOpen}\r\n          handleClickCloseNavTab={props.handleClickCloseNavTab}\r\n          status={props.status} />\r\n        <Header openNav={props.openNav} />\r\n        <div className=\"movies\">\r\n            <Search setFiltText={props.setFiltText} filter={props.filter} handleClickSearch={props.initialCards} handleClickFilterCheckbox={props.handleClickFilterCheckbox} />\r\n            <hr className=\"movies__line\"></hr>\r\n            <Preloader status={(props.statPreload === true) ? 'preloader' : 'preloader__hidden'} />\r\n            <h2 className={(props.statResult === true) ? 'movies__resilt-title' : 'movies__resilt-title__hidden'}>{props.message}</h2>\r\n            <MoviesCardList daleteCard={props.handleClickDeleteMovie} saveCard={props.handleClickSaveMovie} showMore={props.showMore} status={(props.statMovies === true) ? 'moviesCardList' : 'moviesCardList__hidden'} buttonLike={true} movies={props.savedCards} />\r\n            <button onClick={props.handleClickShowMore} className={(props.statButton === true) ? 'movies__button' : 'movies__button__hidden'} type=\"button\" >Ещё</button>\r\n            <span className={(props.statButton === false) ? 'movies__saveddevider' : 'movies__saveddevider__hidden'}></span>\r\n        </div>\r\n        <Footer />\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Movies;","import React from 'react';\r\nimport Search from '../Search/Search';\r\nimport Header from '../Header/Header';\r\nimport Navigation from '../Navigation/Navigation';\r\nimport MoviesCardList from '../MoviesCardList/MoviesCardList';\r\nimport Footer from '../Footer/Footer';\r\nimport './SavedMovies.css';\r\n\r\nfunction SavedMovies(props) {\r\n\r\n    return (\r\n        <>\r\n            <Navigation isOpen={props.isOpen}\r\n                handleClickCloseNavTab={props.handleClickCloseNavTab}\r\n                status={props.status} />\r\n            <Header />\r\n            <div className=\"savedMovies\">\r\n                <Search setFiltText={props.setFiltText} filter={props.filter} handleClickSearch={props.searchSavedCards} handleClickFilterCheckbox={props.handleClickFilterCheckbox} />\r\n                <hr className=\"savedMovies__line\"></hr>\r\n                <MoviesCardList daleteCard={props.handleClickDeleteMovie} buttonLike={false} showMore={props.showMore} status={(props.statMovies === true) ? 'moviesCardList' : 'moviesCardList__hidden'} movies={props.likedCards} />\r\n                <button className=\"savedMovies__button savedMovies__button_hidden\" type=\"button\" >Ещё</button>\r\n                <span className=\"savedMovies__saveddevider\"></span>\r\n            </div>\r\n            <Footer />\r\n        </>\r\n    )\r\n}\r\n\r\nexport default SavedMovies;","export const BASE_URL = 'https://api.diploma.nomoredomains.club' \r\n\r\nexport const register = (name, email, password) => { \r\n  return fetch(`${BASE_URL}/signup`, { \r\n    method: 'POST', \r\n    credentials: 'include', \r\n    headers: { \r\n      \"Content-Type\": \"application/json\" \r\n    }, \r\n    body: JSON.stringify({name, email, password }) \r\n  }) \r\n    .then((response) => { \r\n      try { \r\n        if (response.status === 200) { \r\n          return response.json(); \r\n        } \r\n      } catch (e) { \r\n        return (e) \r\n      } \r\n    }) \r\n    .catch((err) => console.log(err)); \r\n}; \r\n\r\nexport const authorize = (email, password) => { \r\n  return fetch(`${BASE_URL}/signin`, { \r\n    method: 'POST', \r\n    credentials: 'include', \r\n    headers: { \r\n      'Accept': 'application/json', \r\n      'Content-Type': 'application/json', \r\n    }, \r\n    body: JSON.stringify({ email, password }) \r\n  }) \r\n  .then((response => response.json())) \r\n    .then((data) => { \r\n      if (data.token) { \r\n        localStorage.setItem('jwt', data.token); \r\n        return data; \r\n      } else { \r\n        return \r\n      } \r\n    }) \r\n    .catch(err => console.log(err)) \r\n}; \r\n\r\n \r\n\r\nexport const getContent = (token) => { \r\n  return fetch(`${BASE_URL}/users/me`, { \r\n    method: 'GET', \r\n    credentials: 'include', \r\n    headers: { \r\n      'Accept': 'application/json', \r\n      'Content-Type': 'application/json', \r\n      'Authorization': `Bearer ${token}`, \r\n    } \r\n  }) \r\n  .then(res => res.json()) \r\n}  ","class Api {\r\n\r\n    constructor(options) {\r\n        this._baseUrl = options.baseUrl;\r\n        this._authorization = options.headers.authorization;\r\n        this._contentType = options.headers['Content-Type']\r\n    }\r\n    _getResponseData(res) {\r\n        if (!res.ok) {\r\n            return Promise.reject(`Ошибка: ${res.status}`);\r\n        }\r\n        return res.json();\r\n    }\r\n    //initial users\r\n    initialUsers() {\r\n        return fetch(`${this._baseUrl}/users/me`, {\r\n            credentials: 'include',\r\n            headers: {\r\n                authorization: this._authorization\r\n            }\r\n        })\r\n            .then(res => this._getResponseData(res))\r\n    }\r\n    //initial card from server\r\n    initCardsFromServer() {\r\n        return fetch(`${this._baseUrl}/movies`, {\r\n            credentials: 'include',\r\n            headers: {\r\n                authorization: this._authorization\r\n            }\r\n        })\r\n            .then(res => this._getResponseData(res))\r\n    }\r\n    //loading info about user on server\r\n    loadingUserInfoOnServer({ name, email }) {\r\n        return fetch(`${this._baseUrl}/users/me`, {\r\n            method: 'PATCH',\r\n            credentials: 'include',\r\n            headers: {\r\n                authorization: this._authorization,\r\n                'Content-Type': this._contentType\r\n            },\r\n            body: JSON.stringify({\r\n                name,\r\n                email\r\n            })\r\n        }).then(res => this._getResponseData(res))\r\n    }\r\n    //loading new cards on server \r\n    loadingNewCardOnServer({\r\n        movieId,\r\n        nameRU,\r\n        nameEN,\r\n        director,\r\n        thumbnail,\r\n        country,\r\n        year,\r\n        duration,\r\n        description,\r\n        trailer,\r\n        image }) {\r\n        return fetch(`${this._baseUrl}/movies`, {\r\n            method: 'POST',\r\n            credentials: 'include',\r\n            headers: {\r\n                authorization: this._authorization,\r\n                'Content-Type': this._contentType\r\n            },\r\n            body: JSON.stringify({\r\n                movieId,\r\n                nameRU,\r\n                nameEN,\r\n                director,\r\n                thumbnail,\r\n                country,\r\n                year,\r\n                duration,\r\n                description,\r\n                trailer,\r\n                image\r\n            })\r\n        })\r\n            .then(res => this._getResponseData(res));\r\n    }\r\n    //delete cards from server\r\n    deleteCardFromServer(cardId) {\r\n        return fetch(`${this._baseUrl}/movies/${cardId}`, {\r\n            method: 'DELETE',\r\n            credentials: 'include',\r\n            headers: {\r\n                authorization: this._authorization,\r\n            }\r\n        })\r\n            .then(res => this._getResponseData(res))\r\n    }\r\n}\r\n\r\n\r\nconst api = new Api({\r\n    baseUrl: 'https://api.diploma.nomoredomains.club',\r\n\r\n    credentials: 'include',\r\n    headers: {\r\n        'Content-Type': 'application/json'\r\n    }\r\n});\r\n\r\nexport default api\r\n","class Api {\r\n    \r\n    constructor(options) {\r\n        this._baseUrl = options.baseUrl;\r\n        this._contentType = options.headers['Content-Type']\r\n    }\r\n    _getResponseData(res) {\r\n        if (!res.ok) {\r\n            return Promise.reject(`Ошибка: ${res.status}`);\r\n        }\r\n        return res.json();\r\n    }\r\n    //initial card from server\r\n    initCardsFromServer() {\r\n        return fetch(`${this._baseUrl}`)\r\n            .then(res => this._getResponseData(res))\r\n    }\r\n}\r\n\r\n\r\nconst moviesApi = new Api({\r\n    baseUrl: 'https://api.nomoreparties.co/beatfilm-movies',\r\n    headers: {\r\n        'Content-Type': 'application/json'\r\n    }\r\n});\r\n\r\nexport default moviesApi;","import React from 'react';\r\n\r\nexport const CurrentUserContext = React.createContext();","import React from 'react';\r\nimport Header from '../Header/Header';\r\nimport Navigation from '../Navigation/Navigation';\r\nimport './Profile.css';\r\nimport { Link } from 'react-router-dom';\r\nimport { CurrentUserContext } from '../../context/CurrentUserContext';\r\n\r\nfunction Profile(props) {\r\n    const currentUser = React.useContext(CurrentUserContext);\r\n    const [name, setName] = React.useState(currentUser.name);\r\n    const [email, setEmail] = React.useState(currentUser.email);\r\n    const [errStatName, setErrStatName] = React.useState(false);\r\n    const [errStatEmail, setErrStatEmail] = React.useState(false);\r\n    const [errMessage, setErrMessage] = React.useState(\"\");\r\n\r\n    function onChangeTagInputName(e) {\r\n        setName(e.target.value.replace(/[^\\-a-zA-Zа-яА-ЯЁё\\s]/, \"\"));\r\n        name === \"\" ? setErrMessage('Введены некоректные данные') : setErrMessage(\"\");\r\n        name === \"\" ? setErrStatName(true) : setErrStatName(false);\r\n    }\r\n    function onChangeTagInputEmail(e) {\r\n        setEmail(e.target.value);\r\n        !/\\S+@\\S+\\.\\S+/.test(email) ? setErrMessage('Email введен неверно') : setErrMessage(\"\");\r\n        !/\\S+@\\S+\\.\\S+/.test(email) ? setErrStatEmail(true) : setErrStatEmail(false);\r\n    }\r\n    function handleRedactClick(){\r\n    props.onRedactClick()\r\n    setErrMessage(\" \")\r\n    }\r\n    function handleClickUpdateUser(e) {\r\n        e.preventDefault();\r\n        props.handleUpdateUser({ name: name, email: email })\r\n        setErrMessage(\"Отправка...\")\r\n        setTimeout(() => {\r\n            setErrMessage(\"\")\r\n        }, 2000);\r\n    }\r\n\r\n    return (\r\n        <>\r\n        <Navigation handleClickCloseNavTab={props.handleClickCloseNavTab} status={props.status} />\r\n        <Header />\r\n        <form className=\"profile\">\r\n            <h2 className=\"profile__title\">Привет, {currentUser.name}!</h2>\r\n            <p className=\"profile__text\">Имя</p>\r\n            <p className={props.isRedact === true ? \"profile__text_hidden\" : \"profile__text\"}>{currentUser.name}</p>\r\n            <input onChange={(e) => onChangeTagInputName(e)} className={props.isRedact === false ? \"profile__text_hidden\" : (errStatName === false ? \"profile__text\" : \"profile__text profile__text_error\")} id=\"name-input\" value={name} name=\"user\" type=\"text\" placeholder=\"Имя\" required minLength=\"2\" maxLength=\"40\" />\r\n            <hr className=\"profile__line\"></hr>\r\n            <p className=\"profile__text\">E-mail</p>\r\n            <p className={props.isRedact === true ? \"profile__text_hidden\" : \"profile__text\"}>{currentUser.email}</p>\r\n            <input onChange={(e) => onChangeTagInputEmail(e)} className={props.isRedact === false ? \"profile__text_hidden\" : (errStatEmail === false ? \"profile__text\" : \"profile__text profile__text_error\")} id=\"email-input\" value={email} name=\"email\" type=\"E-mail\" placeholder=\"E-mail\" required minLength=\"2\" maxLength=\"50\" />\r\n            <button type=\"button\" className={props.isRedact === true ? \"profile__redact_hidden\" : \"profile__redact\"} onClick={handleRedactClick}>Редактировать</button>\r\n            <Link onClick={props.signOut} className={props.isRedact === true ? \"profile__exit_hidden\" : \"profile__exit\"} to='signin'>Выйти из аккаунта</Link>\r\n            <span className={props.isRedact === false ? \"profile__error_hidden\" : \"profile__error\"}>{errMessage || props.statServer}</span>\r\n            <button onClick={(e) => ((errStatName === false) && (errStatEmail === false) && ((name !== currentUser.name) || (email !== currentUser.email)) && (name.length > 1)) ? handleClickUpdateUser(e) : e.preventDefault()} type=\"submit\" className={props.isRedact === false ? \"profile__save_hidden\" : ((errStatName === false) && (errStatEmail === false) && ((name !== currentUser.name) || (email !== currentUser.email)) && (name.length > 1)) ? \"profile__save\" : \"profile__save profile__save_unactive\"}>Сохранить</button>\r\n        </form>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Profile;","export default __webpack_public_path__ + \"static/media/logo-auth.8f97642a.svg\";","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport logo from '../../images/logo-auth.svg';\r\nimport './Login.css';\r\n\r\nfunction Login(props) {\r\n\r\n    const [email, setEmail] = React.useState(\"\");\r\n    const [password, setPassword] = React.useState(\"\");\r\n    const [errMessage, setErrMessage] = React.useState(\"\");\r\n    const [errStatEmail, setErrStatEmail] = React.useState(false);\r\n    const [errStatPassword, setErrStatPassword] = React.useState(false);\r\n\r\n    function onChangeTagInputEmail(e) {\r\n        setEmail(e.target.value);\r\n        !/\\S+@\\S+\\.\\S+/.test(email)? setErrMessage('Email введен неверно') : setErrMessage(\"\");\r\n        !/\\S+@\\S+\\.\\S+/.test(email) ? setErrStatEmail(true) : setErrStatEmail(false);\r\n    }\r\n    function onChangeTagInputPass(e) {\r\n        setPassword(e.target.value);\r\n        password.length < 7 ? setErrMessage('Слишком короткий пароль (меньше 8 символов)') : setErrMessage(\"\");\r\n        password.length < 7 ? setErrStatPassword(true) : setErrStatPassword(false)\r\n    }\r\n\r\n    function handleLoginClick(e){\r\n        e.preventDefault();\r\n        props.handleLogin(email, password)\r\n        setErrMessage(\"Отправка...\")\r\n        setTimeout(() => {\r\n            setErrMessage(\"\")\r\n        }, 2000);\r\n    }\r\n\r\n    return (\r\n        <form id=\"login\" name=\"login\" className=\"login\" noValidate>\r\n            <img className=\"login__logo\" src={logo} alt=\"logo\" />\r\n            <h2 className=\"login__welcome\">Рады видеть!</h2>\r\n            <p className=\"login__title\">E-mail</p>\r\n            <input id=\"login-input\" value={email} onChange={ onChangeTagInputEmail} name=\"email\" type=\"email\" className={errStatEmail === false ? \"login__input\" : \"login__input login__input_error\"} placeholder=\"Email\" required minLength=\"2\" maxLength=\"40\" />\r\n            <p className=\"login__title\">Пароль</p>\r\n            <input id=\"password-input\" value={password} onChange={onChangeTagInputPass} name=\"password\" type=\"password\" className={errStatPassword === false ? \"login__input\" : \"login__input login__input_error\"} placeholder=\"Пароль\" required minLength=\"2\" maxLength=\"200\" />\r\n            <span className=\"login__input-error\">{errMessage || props.statServer}</span>\r\n            <button onClick={(e) => ((errStatEmail === false) && (errStatPassword === false) && (email !== \"\") && (password !== \"\") && (password.length > 7)) ? handleLoginClick(e) :  e.preventDefault()} type=\"submit\" className={((errStatEmail === false) && (errStatPassword === false) && (email !== \"\") && (password !== \"\") && (password.length > 7)) ? \"login__button-login\" : \"login__button-login login__button-login_unactive\"}>Войти</button>\r\n            <p className=\"login__text\">Ещё не зарегистрированы?</p>\r\n            <Link className=\"login__link\" to=\"/signup\">Регистрация</Link>\r\n        </form>\r\n    )\r\n}\r\n\r\nexport default Login;","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport logo from '../../images/logo-auth.svg';\r\nimport './Register.css';\r\n\r\nfunction Register(props) {\r\n\r\n    const [name, setName] = React.useState(\"\");\r\n    const [email, setEmail] = React.useState(\"\");\r\n    const [password, setPassword] = React.useState(\"\");\r\n    const [errMessage, setErrMessage] = React.useState(\"\");\r\n    const [errStatName, setErrStatName] = React.useState(false);\r\n    const [errStatEmail, setErrStatEmail] = React.useState(false);\r\n    const [errStatPassword, setErrStatPassword] = React.useState(false);\r\n\r\n\r\n    function onChangeTagInputName(e) {\r\n        setName(e.target.value.replace(/[^\\-a-zA-Zа-яА-ЯЁё\\s]/, \"\"));\r\n        name === \"\" ? setErrMessage('Введены некоректные данные') : setErrMessage(\"\");\r\n        name === \"\" ? setErrStatName(true) : setErrStatName(false);\r\n    }\r\n    function onChangeTagInputEmail(e) {\r\n        setEmail(e.target.value);\r\n        !/\\S+@\\S+\\.\\S+/.test(email)? setErrMessage('Email введен неверно') : setErrMessage(\"\");\r\n        !/\\S+@\\S+\\.\\S+/.test(email) ? setErrStatEmail(true) : setErrStatEmail(false);\r\n    }\r\n    function onChangeTagInputPass(e) {\r\n        setPassword(e.target.value);\r\n        password.length < 7 ? setErrMessage('Слишком короткий пароль, (меньше 8 символов)') : setErrMessage(\"\");\r\n        password.length < 7 ? setErrStatPassword(true) : setErrStatPassword(false)\r\n    }\r\n\r\n    function handleRegisterClick(e){\r\n        e.preventDefault(); \r\n        props.handleRegister(name, email, password)\r\n        setErrMessage(\"Отправка...\")\r\n        setTimeout(() => {\r\n            setErrMessage(\"Ошибка отправки, попробуйте другой Email\")\r\n            setTimeout(() => {  \r\n                setErrMessage(\"\")\r\n            }, 2000);\r\n        }, 2000);\r\n    }\r\n\r\n    return (\r\n        <form id=\"auth\" name=\"auth\" className=\"register\" noValidate>\r\n            <img className=\"register__logo\" src={logo} alt=\"Promo-logo\" />\r\n            <h2 className=\"register__welcome\">Добро пожаловать!</h2>\r\n            <p className=\"register__title\">Имя</p>\r\n            <input id=\"name-input\" value={name} onChange={(e) => onChangeTagInputName(e)} name=\"name\" type=\"text\" className={errStatName === false ? \"register__input\" : \"register__input register__input_error\"} placeholder=\"Имя\" required minLength=\"2\" maxLength=\"40\" />\r\n            <p className=\"register__title\">E-mail</p>\r\n            <input id=\"login-input\" value={email} onChange={(e) => onChangeTagInputEmail(e)} name=\"email\" type=\"email\" className={errStatEmail === false ? \"register__input\" : \"register__input register__input_error\"} placeholder=\"Email\" required minLength=\"2\" maxLength=\"40\" />\r\n            <p className=\"register__title\">Пароль</p>\r\n            <input id=\"password-input\" value={password} onChange={(e) => onChangeTagInputPass(e)} name=\"password\" type=\"password\" className={(errStatPassword === false) && (password.length > 7) ? \"register__input\" : \"register__input register__input_error\"} placeholder=\"Пароль\" required minLength=\"2\" maxLength=\"40\" />\r\n            <span className=\"register__input-error\">{errMessage || props.statServer}</span>\r\n            <button onClick={(e) => ((errStatName === false) && (errStatEmail === false) && (errStatPassword === false) && (name !== \"\") && (email !== \"\") && (password !== \"\") && (password.length > 7)) ? handleRegisterClick(e) :  e.preventDefault()} type=\"submit\" className={((errStatName === false) && (errStatEmail === false) && (errStatPassword === false) && (name !== \"\") && (email !== \"\") && (password !== \"\") && (password.length > 7)) ? \"register__button-login\" : \"register__button-login register__button-login_unactive\"}>Зарегистрироваться</button>\r\n            <p className=\"register__text\">Уже зарегистрировались?</p>\r\n            <Link className=\"register__link\" to=\"/signin\"> Войти</Link>\r\n        </form>\r\n    )\r\n}\r\n\r\nexport default Register;","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport './PageNotFound.css';\n\nfunction PageNotFound () {\n  return (\n    <div className=\"not-found\">\n      <h2 className=\"not-found__title\">404</h2>\n      <p className=\"not-found__text\">\n      Страница не найдена\n      </p>\n      <Link className=\"not-found__link\" to=\"/\">Назад</Link>\n    </div>\n  )\n}\n\nexport default PageNotFound; ","import React from \"react\";\r\nimport { Route, Redirect } from \"react-router-dom\";\r\n\r\nconst ProtectedRoute = ({ component: Component, ...props }) => {\r\n  return (\r\n    <Route>\r\n      {() =>\r\n        props.loggedIn ? <Component {...props} /> : <Redirect to=\"/\" />\r\n      }\r\n    </Route>\r\n  );\r\n};\r\n\r\nexport default ProtectedRoute;","import React from 'react';\nimport Main from '../Main/Main';\nimport Footer from '../Footer/Footer';\nimport Movies from '../Movies/Movies';\nimport Navigation from '../Navigation/Navigation';\nimport SavedMovies from '../SavedMovies/SavedMovies';\nimport * as Auth from '../../utils/auth';\nimport api from '../../utils/MainApi';\nimport moviesApi from '../../utils/MoviesApi';\nimport Profile from '../Profile/Profile';\nimport Login from '../Login/Login';\nimport Register from '../Register/Register';\nimport PageNotFound from '../PageNotFound/PageNotFound';\nimport { CurrentUserContext } from '../../context/CurrentUserContext';\nimport { Route, Switch, useHistory } from 'react-router-dom';\nimport ProtectedRoute from \"../ProtectedRoute/ProtectedRoute\";\n\nfunction App() {\n  const [currentUser, setCurrentUser] = React.useState({});\n  const [savedCards, setSavedCards] = React.useState([]);\n  const [likedCards, setLikedCards] = React.useState([]);\n  const [message, setMessage] = React.useState(' ');\n  const [filtText, setFiltText] = React.useState('');\n  const [statServer, setStatServer] = React.useState('');\n  const [statErrProfile, setErrProfile] = React.useState('');\n  const [numPlus, setNumPlus] = React.useState(3);\n  const [showMore, setShowMore] = React.useState(12);\n  const [numCards, setNumCards] = React.useState(15);\n  const [filterSearch, setFilterSearch] = React.useState(false);\n  const [filter, setFilter] = React.useState(false);\n  const [status, setStatus] = React.useState(false);\n  const [loggedIn, setLoggedIn] = React.useState(false);\n  const [statResult, setStatResult] = React.useState(false);\n  const [statMovies, setStatMovies] = React.useState(false);\n  const [statButton, setStatButton] = React.useState(false);\n  const [statPreload, setStatPreload] = React.useState(false);\n  const [loadedMovies, setLoadedMovies] = React.useState(false);\n  const [redactProfile, setRedactProfile] = React.useState(false);\n  const [deleted, setDeleted] = React.useState(false);\n  const history = useHistory();\n\n  let num = numCards;\n\n  const updateSavedCardList = React.useCallback(() => {\n\n    let result = getLocalStorage().map(card => getLocalStorageLikedCards().find(({ movieId }) => movieId === card.id.toString()) || card);\n    return result\n  }, [deleted]);\n\n  React.useEffect(() => {\n    adaptivContent();\n  }, []);\n\n  React.useEffect(() => {\n    window.addEventListener(`resize`, event => {\n      adaptivContent();\n    }, false);\n    (savedCards.length > 0) ? setStatMovies(true) : setStatMovies(false);\n    (savedCards.length >= showMore) ? setStatButton(true) : setStatButton(false);\n\n  }, [showMore, savedCards]);\n\n  React.useEffect(() => {\n    let regular = new RegExp(`${filtText}`, 'i');\n    function filterLikedMuvies() {\n      let filteredLikedCards;\n      if (filter === false) {\n        if (filterSearch === false) {\n          filteredLikedCards = getLocalStorageLikedCards();\n          return filteredLikedCards;\n        } else {\n          filteredLikedCards = getLocalStorageLikedCards().filter((c) => regular.test(c.nameRU));\n          if (filteredLikedCards.length < 1) {\n            setStatMovies(false);\n            setStatButton(false)\n            return filteredLikedCards;\n          } else {\n            setStatMovies(true);\n            setStatButton(false);\n            return filteredLikedCards;\n          }\n        }\n      } else {\n        if (filterSearch === false) {\n          filteredLikedCards = getLocalStorageLikedCards().filter((c) => c.duration < 40);\n          return filteredLikedCards;\n        } else {\n          filteredLikedCards = getLocalStorageLikedCards().filter((c) => c.duration < 40).filter((c) => regular.test(c.nameRU));\n          if (filteredLikedCards.length < 1) {\n            setStatMovies(false);\n            setStatButton(false)\n            return filteredLikedCards;\n          } else {\n            setStatMovies(true);\n            setStatButton(false);\n            return filteredLikedCards;\n          }\n        }\n      }\n    }\n    function initialSavedCards() {\n      api.initCardsFromServer()\n        .then((result) => {\n          localStorage.setItem(\"likeCards\", JSON.stringify([...result.data]))\n        })\n        .then(() => setLikedCards(filterLikedMuvies()))\n        .catch((err) => {\n          console.log(err)\n        })\n    }\n    initialSavedCards();\n  }, [likedCards, savedCards, filter, filterSearch, filtText]);\n\n  React.useEffect(() => {\n    if (loggedIn) {\n      function getUserInfo() {\n        api.initialUsers()\n          .then((result) => {\n            setCurrentUser(\n              result.data\n            );\n          })\n          .catch((err) => {\n            console.log(err)\n          })\n      }\n      getUserInfo();\n    }\n  }, [loggedIn]);\n\n  React.useEffect(() => {\n    function tokenCheck() {\n      const jwt = localStorage.getItem('jwt');\n      if (jwt) {\n        Auth.getContent(jwt).then((res) => {\n          if (res) {\n            setLoggedIn(true);\n            history.push('/movies');\n          }\n        }).catch((err) => {\n          console.log(err)\n        })\n      }\n    }\n    tokenCheck();\n  }, [history]);\n\n  React.useEffect(() => {\n    function filterMuvies() {\n      let filteredCards;\n      if (filter === false) {\n        filteredCards = updateSavedCardList();\n        return filteredCards;\n      } else {\n        filteredCards = updateSavedCardList().filter((c) => c.duration < 40);\n        return filteredCards;\n      }\n    }\n    setSavedCards(filterMuvies())\n  }, [filter, updateSavedCardList]);\n\n  const adaptivContent = () => {\n    let width = window.innerWidth;\n    if (width >= 1280) {\n      setShowMore(12);\n      setNumCards(15);\n      setNumPlus(3);\n    } else if ((width >= 768) && (width < 1280)) {\n      setShowMore(8);\n      setNumCards(10);\n      setNumPlus(2);\n    } else if ((width >= 320) && (width < 768)) {\n      setShowMore(5);\n      setNumCards(10);\n      setNumPlus(5);\n    }\n  }\n\n  const searchSavedCards = (e) => {\n    e.preventDefault();\n    setFilterSearch(true)\n  }\n\n  function initialCards() {\n    let regular = new RegExp(`${filtText}`, 'i');\n    setFilterSearch(false)\n    setStatPreload(true);\n    setStatMovies(false);\n    setStatButton(false)\n    if (loadedMovies === false) {\n      moviesApi.initCardsFromServer()\n        .then((result) => {\n          setStatPreload(false);\n          setStatMovies(true);\n          setStatButton(false)\n          setLoadedMovies(true)\n          setStatResult(false);\n          localStorage.setItem(\"cards\", JSON.stringify([...result]));\n        }).then(() => {\n          let movies = getLocalStorage().filter((c) => regular.test(c.description));\n          if (movies.length < 1) {\n            setStatResult(true);\n            setStatMovies(false);\n            setStatButton(false)\n            setMessage('Ничего не найдено');\n          } else {\n            setStatMovies(true);\n            setStatResult(false);\n            setSavedCards(movies);\n          }\n          setStatPreload(false);\n        })\n        .catch((err) => {\n          setStatPreload(false);\n          setStatResult(true);\n          setMessage('Во время запроса произошла ошибка. Возможно, проблема с соединением или сервер недоступен. Подождите немного и попробуйте ещё раз');\n          console.log(err)\n        })\n    } else {\n      let movies = getLocalStorage().filter((c) => regular.test(c.description));\n      if (movies.length < 1) {\n        setStatResult(true);\n        setMessage('Ничего не найдено');\n      } else {\n        setStatResult(false);\n        setSavedCards(movies);\n      }\n      setStatPreload(false);\n    }\n  }\n\n  const handleClickSaveMovie = (data) => {\n    api.loadingNewCardOnServer(data).then((newCard) => {\n      setLikedCards([...likedCards, newCard]);\n      setDeleted(true)\n    }).then(() => setDeleted(false)).catch((err) => {\n      console.log(err);\n    });\n  }\n\n  const handleClickDeleteMovie = (card) => {\n    let deleteCard = likedCards.filter((c) => c._id === card._id.toString())\n    api.deleteCardFromServer(deleteCard[0]._id)\n      .then(() => {\n        setLikedCards((state) => state.filter((c) => c._id !== deleteCard[0]._id));\n        setDeleted(true);\n      }).then(() => setDeleted(false))\n      .catch((err) => {\n        console.log(err);\n      });\n  };\n\n  const handleClickDeleteLikedMovie = (card) => {\n    let deleteCard = likedCards.filter((c) => c._id === card._id.toString())\n    api.deleteCardFromServer(deleteCard[0]._id)\n      .then(() => {\n        setLikedCards((state) => state.filter((c) => c._id !== deleteCard[0]._id));\n        setDeleted(true);\n      })\n      .then(() => setDeleted(false))\n      .catch((err) => {\n        console.log(err);\n      });\n  };\n\n  const openNav = () => {\n    setStatus(true);\n  }\n  const closeNav = () => {\n    setStatus(false);\n  }\n\n  const handleRedactClick = () => {\n    setRedactProfile(true)\n  };\n\n  function handleClickShowMore() {\n    setShowMore(num);\n    setNumCards(showMore + numPlus);\n  }\n\n  const handleClickFilterCheckbox = () => {\n    filter === false ? setFilter(true) : setFilter(false);\n  }\n\n  function getLocalStorage() {\n    const card = localStorage.getItem('cards');\n    return card !== null ? JSON.parse(card) : [];\n  }\n\n  function getLocalStorageLikedCards() {\n    const card = localStorage.getItem(\"likeCards\");\n    return card !== null ? JSON.parse(card) : [];\n  };\n\n  \n  const handleRegister = (name, email, password) => {\n    Auth.register(name, email, password)\n      .then((res) => {\n        if (res) {\n          setStatServer('');\n          setTimeout(() => {\n            history.push('/signin');;\n          }, 1000);\n        }\n      }).catch((err) => {\n        setStatServer(err.message);\n        console.log(err.message);\n      });\n  };\n\n  function handleLogin(email, password) {\n    Auth.authorize(email, password)\n      .then((data) => {\n        if (data.token) {\n          setLoggedIn(true);\n          setStatServer('');\n          setTimeout(() => {\n            history.push('/movies');\n          }, 1000);\n        }\n      })\n      .catch((err) => {\n        setStatServer('Ошибка отправки данных на сервер');\n        setTimeout(() => {\n          setStatServer('');\n        }, 5000);\n        console.log(err)\n      })\n  };\n\n  function signOut() {\n    localStorage.removeItem('jwt');\n    localStorage.removeItem('cards');\n    setLoggedIn(false);\n  };\n\n  function handleUpdateUser(data) {\n    api.loadingUserInfoOnServer({ name: data.name, email: data.email }).then((result) => {\n      if (result.data) {\n        console.log(result.data)\n        setCurrentUser(result.data);\n        setErrProfile('Данные успешно изменены!');\n        setTimeout(() => {\n          setRedactProfile(false);\n          setErrProfile('');\n        }, 4000);\n      }\n    }).catch((err) => {\n      setErrProfile('Ошибка отправки данных (возможно этот Email уже занят!');\n      console.log(err);\n    })\n  };\n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n      <div className=\"App\">\n        <Switch>\n          <Route exact path=\"/\">\n            <Navigation isOpen={status} handleClickCloseNavTab={closeNav} status={'main'} />\n            <Main />\n            <Footer />\n          </Route>\n          <Route path=\"/signup\">\n            <Register statServer={statServer} handleRegister={handleRegister} />\n          </Route>\n          <Route path=\"/signin\">\n            <Login statServer={statServer} handleLogin={handleLogin} />\n          </Route>\n          <ProtectedRoute\n            path=\"/movies\"\n            status={'movies'}\n            setFiltText={setFiltText}\n            filter={filter}\n            isOpen={status}\n            message={message}\n            loggedIn={loggedIn}\n            showMore={showMore}\n            statButton={statButton}\n            statResult={statResult}\n            savedCards={savedCards}\n            statMovies={statMovies}\n            statPreload={statPreload}\n            openNav={openNav}\n            component={Movies}\n            initialCards={initialCards}\n            handleClickCloseNavTab={closeNav}\n            handleClickShowMore={handleClickShowMore}\n            handleClickSaveMovie={handleClickSaveMovie}\n            handleClickDeleteMovie={handleClickDeleteMovie}\n            handleClickFilterCheckbox={handleClickFilterCheckbox} />\n          <ProtectedRoute\n            path=\"/saved-movies\"\n            status={'saved-movies'}\n            filter={filter}\n            statMovies={statMovies}\n            loggedIn={loggedIn}\n            likedCards={likedCards}\n            component={SavedMovies}\n            setFiltText={setFiltText}\n            handleClickCloseNavTab={closeNav}\n            searchSavedCards={searchSavedCards}\n            handleClickDeleteMovie={handleClickDeleteLikedMovie}\n            handleClickFilterCheckbox={handleClickFilterCheckbox} />\n          <ProtectedRoute\n            path=\"/profile\"\n            status={'profile'}\n            loggedIn={loggedIn}\n            isRedact={redactProfile}\n            statServer={statErrProfile}\n            signOut={signOut}\n            component={Profile}\n            onRedactClick={handleRedactClick}\n            handleClickCloseNavTab={closeNav}\n            handleUpdateUser={handleUpdateUser} />\n          <Route path=\"*\">\n            <PageNotFound />\n          </Route>\n        </Switch>\n      </div>\n    </CurrentUserContext.Provider >\n  );\n}\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom'; // импортируем BrowserRouter\nimport App from './components/App/App';\nimport './index.css';\n\n// теперь обернём компонент App в BrowserRouter\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter> \n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n); \n\n"],"sourceRoot":""}